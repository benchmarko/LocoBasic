<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="locobasic.css">
  <title>LocoBasic v0.5.3</title>
</head>

<body>
  <div id="toolbarArea" class="area">
    <div class="toolbarAreaInner">
      <div class="toolbarLine">
        <span class="buttonPopoverContainer">
          <button id="outputOptionsButton" class="popoverButton" title="LocoBasic Options">LocoBasic</button>
          <span id="outputOptionsArea" class="popover" hidden>
            <fieldset>
              <legend title="LocoBasic Options">LocoBasic Options</legend>
              <fieldset>
                <legend title="Output Options">Output</legend>
                <input id="showOutputInput" type="checkbox" title="Show Output" checked>
                <label for="showOutputInput" title="Show Output">Show</label>
              </fieldset>
              <fieldset>
                <legend title="Execute Options">Execute</legend>
                <input id="autoExecuteInput" type="checkbox" title="Automatic Execute" checked>
                <label id="autoExecuteInputLabel" for="autoExecuteInput" title="Automatic Execute on change">Auto Execute</label>
              </fieldset>
              <fieldset>
                <legend title="Frame Time">Frame Time</legend>
                <input id="frameInput" type="range" min="1" max="500" step="1" value="50" title="Frame Time">
                <br>
                <label id="frameInputLabel" for="frameInput" title="Frame Time">50 ms</label>
              </fieldset>
              <fieldset>
                <legend title="BASIC Options">BASIC</legend>
                <input id="showBasicInput" type="checkbox" title="Show BASIC" checked>
                <label for="showBasicInput" title="Show BASIC">Show</label>
              </fieldset>
              <fieldset>
                <legend title="JavaScript Options">JavaScript</legend>
                <input id="showCompiledInput" type="checkbox" title="Show JavaScript">
                <label for="showCompiledInput" title="Show JavaScript">Show</label>
                <br>
                <input id="autoCompileInput" type="checkbox" title="Automatic compile on change" checked>
                <label id="autoCompileInputLabel" for="autoCompileInput" title="Automatic Compile on change">Auto Compile</label>
              </fieldset>
            </fieldset>
            <fieldset>
              <legend title="Actions">Actions</legend>
              <button id="exportSvgButton" title="Export SVG (Vector)">Export SVG</button>
              <br>
              <button id="fullscreenButton" title="Toggle Fullscreen">Fullscreen</button>
            </fieldset>
            <button id="helpButton" title="Open LocoBasic Readme">Help</button>
          </span>
        </span>
        <select id="databaseSelect" title="Database"></select>
        <select id="exampleSelect" title="Example"></select>
        <span class="toolbarLineItemRight">
        </span>
      </div>
    </div>
  </div>

  <div id="outputArea" class="area">
    <div id="outputText" tabindex="0"></div>
  </div>

  <div id="executeToolbarArea" class="area">
    <div class="toolbarAreaInner">
      <div class="toolbarLine">
        <button id="executeButton" title="Execute JavaScript">Execute</button>
        <button id="pauseButton" title="Pause Execution" disabled>Pause</button>
        <button id="resumeButton" title="Resume Execution" disabled>Resume</button>
        <button id="stopButton" title="Stop Execution" disabled>Stop</button>
        <button id="resetButton" title="Terminate Execution">Reset</button>
        <button id="startSpeechButton" title="Start Speech" hidden>Start Speech</button>
        <span class="toolbar-separator"></span>
        <button id="enterButton" title="Enter" disabled>Enter</button>
        <span id="userKeys"></span>
        <span class="toolbarLineItemRight" title="Execute and Input">
        </span>
      </div>
    </div>
  </div>

  <div id="basicArea" class="area">
    <div id="basicIoolbarArea" class="area">
      <div class="toolbarAreaInner">
        <div class="toolbarLine">
          <span class="toolbarTitle">BASIC</span>
          <span class="toolbarLineItemRight">
            <span class="buttonPopoverContainer">
              <button id="convertButton" class="popoverButton" title="Convert BASIC source">Convert</button>
              <span id="convertArea" class="popover right-align" hidden>
                <fieldset>
                  <legend title="Line Numbers">Line Numbers</legend>
                  <button id="labelAddButton" class="popoverElement" title="Add line numbers">Add</button>
                  <button id="labelRemoveButton" class="popoverElement" title="Remove line numbers" disabled>Remove</button>
                </fieldset>
              </span>
            </span>
            <span class="buttonPopoverContainer">
              <button id="basicSearchButton" class="popoverButton" title="Search">Search</button>
              <span id="basicSearchArea" class="popover right-align" hidden>
                <fieldset>
                  <input id="basicSearchInput" title="Find text (or /re/)" type="text" size="12" placeholder="Find" autocomplete="off">
                  <button id="basicSearchPrevButton" class="popoverElement" title="Find previous (Shift-[Ctrl|Cmd]-G)">⌃</button>
                  <button id="basicSearchNextButton" class="popoverElement" title="Find Next ([Ctrl|Cmd]-G)">⌵</button>
                  <details>
                    <summary>Replace</summary>
                    <div>
                      <input id="basicReplaceInput" title="Replace text" type="text" size="12" placeholder="Replace" autocomplete="off">
                      <br>
                      <button id="basicReplaceButton" class="popoverElement" title="Replace">Repl.</button>
                      <button id="basicReplaceAllButton" class="popoverElement" title="Replace All">All</button>
                    </div>
                  </details>
                </fieldset>
              </span>
            </span>
          </span>
        </div>
      </div>
    </div>
    <div id="basicEditor" class="CodeMirror"></div>
  </div>

  <div id="compiledArea" class="area" hidden>
    <div id="compiledToolbarArea" class="area">
      <div class="toolbarAreaInner">
        <div class="toolbarLine">
          <span class="toolbarTitle" title="JavaScript">JavaScript</span>
          <button id="compileButton" title="Compile to JavaScript">Compile</button>
          <span class="toolbarLineItemRight">
            <button id="standaloneButton" title="Create Standalone Script">Standalone Script</button>
          </span>
        </div>
      </div>
    </div>
    <div id="compiledEditor" class="CodeMirror"></div>
  </div>

  <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
  <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js" defer></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css">
  </link>

  <script src="https://unpkg.com/ohm-js@17/dist/ohm.min.js"></script>

  <script>
    if (!window.ohm) {
      console.error("window.ohm not loaded!");
    }
    window.ohmJs = window.ohm;
  </script>

  <script src="locobasicUI.js"></script>
  <script src="locobasic.js"></script>
</body>

</html>