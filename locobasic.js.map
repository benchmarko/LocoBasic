{"version":3,"file":"locobasic.js","sources":["../src/Parser.ts","../src/arithmetic.ts","../src/SemanticsHelper.ts","../src/Constants.ts","../src/Semantics.ts","../src/ScriptCreator.ts","../src/Core.ts","../src/VmMessageHandler.ts","../src/NodeVmMain.ts","../src/NodeParts.ts","../src/main.ts"],"sourcesContent":["import { type ActionDict, type Grammar, Matcher, type Namespace, type Semantics, grammar } from \"ohm-js\";\n\nexport class Parser {\n    private readonly ohmGrammar: Grammar;\n    private readonly ohmSemantics: Semantics;\n    private readonly matcher: Matcher;\n\n    constructor(grammarString: string, semanticsMap: ActionDict<string | string[]>, superParser?: Parser) {\n        if (superParser) {\n            const superGrammar = superParser.getOhmGrammar();\n\n            const namespace: Namespace = {\n                basicGrammar: superGrammar\n            };\n            this.ohmGrammar = grammar(grammarString, namespace);\n        } else {\n            this.ohmGrammar = grammar(grammarString);\n        }\n\n        this.matcher = this.ohmGrammar.matcher();\n\n        this.ohmSemantics = this.ohmGrammar\n            .createSemantics()\n            .addOperation<string | string[]>(\"eval\", semanticsMap);\n    }\n\n    public getOhmGrammar(): Grammar {\n        return this.ohmGrammar;\n    }\n\n    private diffPartsStart(oldInput: string, newInput: string) {\n        let common = 0;\n        while (common < oldInput.length && common < newInput.length && oldInput[common] === newInput[common]) {\n            common += 1;\n        }\n        return common;\n    }\n\n    private diffPartsEnd(oldInput: string, newInput: string, start: number) {\n        let common = newInput.length;\n        const oldIndexDiff = oldInput.length - newInput.length;\n        const minCommon = oldIndexDiff < 0 ? start - oldIndexDiff : start;\n        while (common > minCommon && oldInput[common - 1 + oldIndexDiff] === newInput[common - 1]) {\n            common -= 1;\n        }\n        return common;\n    }\n\n    // Function to parse and evaluate an expression\n    public parseAndEval(input: string): string {\n        const matcher = this.matcher;\n        const oldInput = matcher.getInput();\n        const start = this.diffPartsStart(oldInput, input);\n        const end = this.diffPartsEnd(oldInput, input, start);\n        const oldEnd = oldInput.length - (input.length - end);\n\n        try {\n            if (start > 0) {\n                matcher.replaceInputRange(start, oldEnd, input.substring(start, end));\n            } else {\n                matcher.setInput(input);\n            }\n\n            const matchResult = matcher.match();\n            if (matchResult.succeeded()) {\n                return this.ohmSemantics(matchResult).eval() as string;\n            } else {\n                return `ERROR: Parsing failed: ${matchResult.message}`;\n            }\n        } catch (error) {\n            return `ERROR: Parsing evaluator failed: ${error instanceof Error ? error.message : \"unknown\"}`;\n        }\n    }\n}\n","// arithmetics.ts\n//\nexport const arithmetic = {\n  basicGrammar:\n    `\n    Arithmetic {\n    Program\n      = Line*\n\n    Line\n      = Label? Statements \":\"* Comment? (eol | end)\n\n    Label\n      = label\n\n    Statements\n      = \":\"* Statement (\":\"+ Statement)*\n\n    Statement\n      = Comment\n      | After\n      | Auto\n      | Border\n      | Call\n      | Cat\n      | Chain\n      | Clear\n      | Clg\n      | Closein\n      | Closeout\n      | Cls\n      | Cont\n      | Cursor\n      | Data\n      | Def\n      | Defint\n      | Defreal\n      | Defstr\n      | Deg\n      | Delete\n      | Di\n      | Dim\n      | Draw\n      | Drawr\n      | Edit\n      | Ei\n      | End\n      | Ent\n      | Env\n      | Erase\n      | Error\n      | Every\n      | Fill\n      | ForNextBlock\n      | Frame\n      | Gosub\n      | Goto\n      | GraphicsPaper\n      | GraphicsPen\n      | If\n      | Ink\n      | Input\n      | Key\n      | Let\n      | LineInput\n      | List\n      | Load\n      | Locate\n      | Mask\n      | Memory\n      | Merge\n      | MidSAssign\n      | Mode\n      | Move\n      | Mover\n      | New\n      | On\n      | Openin\n      | Openout\n      | Origin\n      | Out\n      | Paper\n      | Pen\n      | Plot\n      | Plotr\n      | Poke\n      | Print\n      | Rad\n      | Randomize\n      | Read\n      | Release\n      | Rem\n      | Renum\n      | Restore\n      | Resume\n      | Return\n      | Rsx\n      | Run\n      | Save\n      | Sound\n      | Speed\n      | Stop\n      | Symbol\n      | Tag\n      | Tagoff\n      | Troff\n      | Tron\n      | Wait\n      | WhileWendBlock\n      | Width\n      | Window\n      | Write\n      | Zone\n      | ArrayAssign\n      | Assign\n\n    ArrayAssign\n      = ArrayIdent \"=\" NumExp\n      | StrArrayIdent \"=\" StrExp\n\n    LoopBlockContent\n      = LoopBlockSeparator? Statements\n\n    LoopBlockSeparator\n      = \":\"+ -- colon\n      | Comment? eol Label? -- newline\n\n    Abs\n      = abs \"(\" NumExp \")\"\n\n    AddressOf\n      = \"@\" AnyIdent\n\n    After\n      = after NumExp (\",\" NumExp)? gosub label\n\n    Asc\n      = asc \"(\" StrExp \")\"\n\n    Atn\n      = atn \"(\" NumExp \")\"\n\n    Assign\n      = PlainIdent \"=\" NumExp\n      | StrPlainIdent \"=\" StrExp\n\n    Auto\n      = auto label? (\",\" digit+)?\n\n    BinS\n      = binS \"(\" NumExp (\",\" NumExp)? \")\"\n\n    Border\n      = border NumExp (\",\" NumExp)?\n\n    Call\n      = call NonemptyListOf<NumExp, \",\">\n\n    Cat\n      = cat\n\n    Chain\n      = chain merge? StrExp (\",\" NumExp)? (\",\" Delete)?\n\n    ChrS\n      = chrS \"(\" NumExp \")\"\n\n    Cint\n      = cint \"(\" NumExp \")\"\n\n    Clear\n      = clear input -- input\n      | clear -- clear\n\n    Clg\n      = clg NumExp?\n\n    Closein\n      = closein\n\n    Closeout\n      = closeout\n\n    Cls\n      = cls StreamArg?\n\n    Comment\n      = \"\\\\'\" partToEol\n\n    Cont\n      = cont\n\n\t\tCopychrS\n      = copychrS \"(\" StreamArg \")\"\n\n    Cos\n      = cos \"(\" NumExp \")\"\n\n    Creal\n      = creal \"(\" NumExp \")\"\n\n    Cursor\n      = cursor NumExp (\",\" NumExp)?\n\n    DataUnquoted\n      = binaryValue\n      | hexValue\n      | dataUnquoted\n\n    DataItem\n      = string\n      | DataUnquoted\n\n    Data\n      = data NonemptyListOf<DataItem, \",\">\n\n    DecS\n      = decS \"(\" NumExp \",\" StrExp \")\"\n\n    Def\n      = def fn DefAssign\n\n    DefArgs\n      = \"(\" ListOf<SimpleIdent, \",\"> \")\"\n\n    DefAssign\n      = PlainIdent DefArgs? \"=\" NumExp\n      | StrPlainIdent DefArgs? \"=\" StrExp\n\n    LabelRange\n      = label (\"-\" label)?\n\n    LetterRange\n      = letter (\"-\" letter)?\n\n    Defint\n      = defint NonemptyListOf<LetterRange, \",\">\n\n    Defreal\n      = defreal NonemptyListOf<LetterRange, \",\">\n\n    Defstr\n      = defstr NonemptyListOf<LetterRange, \",\">\n\n    Deg\n      = deg\n\n    Delete\n      = delete LabelRange?\n\n    Derr\n      = derr\n\n    Di\n      = di\n\n    Dim\n      = dim NonemptyListOf<DimArrayIdent, \",\">\n\n    Draw\n      = draw NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Drawr\n      = drawr NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Edit\n      = edit label\n\n    Ei\n      = ei\n\n    Else\n      = else\n\n    End\n      = endLit\n\n    Ent\n      = ent ListOf<NumExp, \",\">\n\n    Env\n      = env ListOf<NumExp, \",\">\n\n    Eof\n      = eof\n\n    Erase\n      = erase NonemptyListOf<EraseIdent, \",\">\n\n    Erl\n      = erl\n\n    Err\n      = err\n\n    Error\n      = error NumExp\n\n    Every\n      = every NumExp (\",\" NumExp)? gosub label\n\n    Exp\n      = exp \"(\" NumExp \")\"\n\n    Fill\n      = fill NumExp\n\n    Fix\n      = fix \"(\" NumExp \")\"\n\n    For\n      = for PlainIdent \"=\" NumExp to NumExp (step NumExp)?\n\n    ForNextBlock\n      = For LoopBlockContent* LoopBlockSeparator Next\n\n    Frame\n      = frame\n\n    Fre\n      = fre \"(\" (StrExp | NumExp) \")\"\n\n    Gosub\n      = gosub label\n\n    Goto\n      = goto label\n\n    GraphicsPaper\n      = graphics paper NumExp\n\n    GraphicsPen\n      = graphics pen NumExp (\",\" NumExp)?\n\n    HexS\n      = hexS \"(\" NumExp (\",\" NumExp)? \")\"\n\n    Himem\n      = himem\n\n    Ink\n      = ink NumExp \",\" NumExp (\",\" NumExp)?\n\n    Inkey\n      = inkey \"(\" NumExp \")\"\n\n    InkeyS\n      = inkeyS\n\n    Inp\n      = inp \"(\" NumExp \")\"\n\n    Input\n      = input (StreamArg \",\")? \";\"? (string (\";\" | \",\"))? NonemptyListOf<AnyIdent, \",\">\n\n    Instr\n      = instr \"(\" StrExp \",\" StrExp \")\" -- noLen\n      | instr \"(\" NumExp \",\" StrExp \",\" StrExp \")\" -- len\n\n    Int\n      = int \"(\" NumExp \")\"\n\n    Joy\n      = joy \"(\" NumExp \")\"\n\n    Key \n      = key NumExp \",\" StrExp -- key\n      | key def NumExp \",\" NumExp (\",\" ListOf<NumExp, \",\">)? -- def\n\n    LeftS\n      = leftS \"(\" StrExp \",\" NumExp \")\"\n\n    Len\n      = len \"(\" StrExp \")\"\n\n    Let\n      = let (ArrayAssign | Assign)\n\n    LineInput\n      = line input (StreamArg \",\")? (string (\";\" | \",\"))? (StrArrayIdent | StrPlainIdent)\n\n    List\n      = list LabelRange? (\",\" StreamArg)?\n\n    Load\n      = load StrExp (\",\" NumExp)?\n\n    Locate\n      = locate (StreamArg \",\")? NumExp (\",\" NumExp)?\n\n    Log\n      = log \"(\" NumExp \")\"\n\n    Log10\n      = log10 \"(\" NumExp \")\"\n\n    LowerS\n      = lowerS \"(\" StrExp \")\"\n\n    Mask\n      = mask NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Max\n      = max \"(\" NonemptyListOf<NumExp, \",\"> \")\"\n\n    Memory\n      = memory NumExp\n\n    Merge\n      = merge StrExp\n\n    MidS\n      = midS \"(\" StrExp \",\" NumExp (\",\" NumExp)? \")\"\n\n    MidSAssign\n      = midS \"(\" (StrArrayIdent | StrPlainIdent) \",\" NumExp (\",\" NumExp)? \")\" \"=\" StrExp\n\n    Min\n      = min \"(\" NonemptyListOf<NumExp, \",\"> \")\"\n\n    Mode\n      = mode NumExp\n\n    Move\n      = move NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Mover\n      = mover NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    New\n      = new\n\n    Next \n      = next PlainIdent?\n\n    On\n      = on NumExp gosub NonemptyListOf<label, \",\"> -- numGosub\n      | on NumExp goto NonemptyListOf<label, \",\"> -- numGoto\n      | on break cont -- breakCont\n      | on break gosub label -- breakGosub\n      | on break stop -- breakStop\n      | on error goto label -- errorGoto\n\n    Openin\n      = openin StrExp\n\n    Openout\n      = openout StrExp\n\n    Origin\n      = origin NumExp \",\" NumExp (\",\" NumExp)*\n\n    Out\n      = out NumExp \",\" NumExp\n\n    Paper\n      = paper (StreamArg \",\")? NumExp\n\n    Peek\n      = peek \"(\" NumExp \")\"\n\n    Pen\n      = pen (StreamArg \",\")? NumExp (\",\" NumExp)?\n\n    Pi\n      = pi\n\n    Plot\n      = plot NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Plotr\n      = plotr NumExp \",\" NumExp (\",\" NumExp)? (\",\" NumExp)?\n\n    Poke\n      = poke NumExp \",\" NumExp\n\n    Pos\n      = pos \"(\" \"#\" NumExp \")\"\n\n    PrintCommaOp\n      = \",\"\n\n    PrintArg\n      = &StrCmpExp NumExp -- strCmp\n      | StrExp\n      | NumExp\n      | using StrExp \";\" NonemptyListOf<NumExp, \";\"> -- usingNum\n      | Spc\n      | Tab\n      | PrintCommaOp -- commaOp\n\n    StreamArg\n      = \"#\" NumExp\n\n    PrintSep\n      = \";\" | \"\"\n\n    Print\n      = (print | \"?\") (StreamArg (\",\" | &\":\" | &Comment | &else | &end | &eol))? ListOf<PrintArg, PrintSep> (\";\")?\n\n    Rad\n      = rad\n\n    Randomize\n      = randomize NumExp?\n\n    Read\n      = read NonemptyListOf<AnyIdent, \",\">\n\n    Release\n      = release NumExp\n\n    Rem\n      = rem partToEol\n\n    Renum\n      = renum label? (\",\" label)? (\",\" number)?\n\n    Remain\n      = remain \"(\" NumExp \")\"\n\n    Restore\n      = restore label?\n\n    Resume\n      = resume (label | next)?\n\n    Return\n      = return\n\n    RightS\n      = rightS \"(\" StrExp \",\" NumExp \")\"\n\n    Rnd\n      = rnd (\"(\" NumExp \")\")?\n\n    Round\n      = round \"(\" NumExp (\",\" NumExp)? \")\"\n\n    Rsx\n      = \"|\" #rsxIdentName RsxArgs?\n\n    RsxAddressOf\n      = \"@\" AnyIdent\n\n    RsxArg = RsxAddressOf | AnyFnArg\n\n    RsxArgs\n      = \",\" NonemptyListOf<RsxArg, \",\">\n\n    Run\n      = run (StrExp | label)?\n\n    Save\n      = save StrExp (\",\" letter)? (\",\" NumExp)? (\",\" NumExp)? (\",\" NumExp)?\n\n    Sgn\n      = sgn \"(\" NumExp \")\"\n\n    Sin\n      = sin \"(\" NumExp \")\"\n\n    Sound\n      = sound NumExp \",\" NumExp (\",\" NumExp?)*\n\n    SpaceS\n      = spaceS \"(\" NumExp \")\"\n\n    Spc\n      = spc \"(\" NumExp \")\"\n\n    Speed\n      = speed ink NumExp \",\" NumExp -- ink\n      | speed key NumExp \",\" NumExp -- key\n      | speed write NumExp -- write\n\n    Sq\n      = sq \"(\" NumExp \")\"\n\n    Sqr\n      = sqr \"(\" NumExp \")\"\n\n    Stop\n      = stop\n\n    StrS\n      = strS \"(\" NumExp \")\"\n\n    StringS\n      = stringS \"(\" NumExp \",\" StrExp \")\" -- str\n      | stringS \"(\" NumExp \",\" NumExp \")\" -- num\n\n    Symbol\n      = symbol NonemptyListOf<NumExp, \",\"> -- def // simplified\n      | symbol after NumExp -- after\n\n    Tab\n       = tab \"(\" NumExp \")\"\n\n    Tag\n      = tag StreamArg?\n\n    Tagoff\n      = tagoff StreamArg?\n\n    Tan\n      = tan \"(\" NumExp \")\"\n\n    Test\n      = test \"(\" NumExp \",\" NumExp \")\"\n\n    Testr\n      = testr \"(\" NumExp \",\" NumExp \")\"\n\n    Time\n      = time\n\n    Troff\n      = troff\n\n    Tron\n      = tron\n\n    Unt\n      = unt \"(\" NumExp \")\"\n\n    UpperS\n      = upperS \"(\" StrExp \")\"\n\n    Val\n      = val \"(\" StrExp \")\"\n\n    Vpos\n      = vpos \"(\" \"#\" NumExp \")\"\n\n    Wait\n      = wait NumExp \",\" NumExp (\",\" NumExp)?\n\n    Wend\n      = wend\n\n    While\n      = while CondExp\n\n    WhileWendBlock\n      = While LoopBlockContent* LoopBlockSeparator Wend\n\n    Width\n      = width NumExp\n\n    Window\n      = window (StreamArg \",\")? NumExp \",\" NumExp \",\" NumExp \",\" NumExp -- def\n      | window swap NumExp (\",\" NumExp)? -- swap\n\n    WriteArg\n      = StrExp\n      | NumExp\n\n    Write\n      = write (StreamArg \",\")? ListOf<WriteArg, (\";\" | \",\")>\n\n    Xpos\n      = xpos\n\n    Ypos\n      = ypos\n\n    Zone\n      = zone NumExp\n\n    IfExp\n      = Statements\n      | label -- label\n\n    IfThen\n      = then IfExp -- then\n      | Goto\n\n    If\n      = if CondExp IfThen (\":\"* else IfExp)?\n\n    StrExp\n      = StrAddExp\n\n    StrAddExp\n      = StrAddExp \"+\" StrPriExp  -- plus\n      | StrPriExp\n\n    StrPriExp\n      = \"(\" StrExp \")\"  -- paren\n      | BinS\n      | ChrS\n      | CopychrS\n      | DecS\n      | HexS\n      | InkeyS\n      | LeftS\n      | LowerS\n      | MidS\n      | RightS\n      | SpaceS\n      | StrS\n      | StringS\n      | UpperS\n      | StrFnIdent\n      | StrArrayIdent\n      | StrPlainIdent\n      | string\n\n    NumExp\n      = XorExp\n\n    XorExp\n      = OrExp xor XorExp  -- xor\n      | OrExp\n\n    OrExp\n      = AndExp or OrExp  -- or\n      | AndExp\n\n    AndExp\n      = NotExp and AndExp  -- and\n      | NotExp\n\n    NotExp\n      = not NotExp  -- not\n      | StrCmpExp\n      | CmpExp\n\n    StrCmpExp\n      = StrAddExp \"=\" StrAddExp  -- eq\n      | StrAddExp \"<>\" StrAddExp  -- ne\n      | StrAddExp \"<\" StrAddExp  -- lt\n      | StrAddExp \"<=\" StrAddExp  -- le\n      | StrAddExp \">\" StrAddExp  -- gt\n      | StrAddExp \">=\" StrAddExp  -- ge\n\n    CmpExp\n      = CmpExp \"=\" AddExp  -- eq\n      | CmpExp \"<>\" AddExp  -- ne\n      | CmpExp \"<\" AddExp  -- lt\n      | CmpExp \"<=\" AddExp  -- le\n      | CmpExp \">\" AddExp  -- gt\n      | CmpExp \">=\" AddExp  -- ge\n      | AddExp\n\n    AddExp\n      = AddExp \"+\" ModExp  -- plus\n      | AddExp \"-\" ModExp  -- minus\n      | ModExp\n\n    ModExp\n      = ModExp mod DivExp -- mod\n      | DivExp\n\n    DivExp\n      = DivExp \"\\\\\\\\\" MulExp -- div\n      | MulExp\n\n    MulExp\n      = MulExp \"*\" ExpExp  -- times\n      | MulExp \"/\" ExpExp  -- divide\n      | ExpExp\n\n    ExpExp\n      = PriExp \"^\" ExpExp  -- power\n      | PriExp\n\n    PriExp\n      = \"(\" NumExp \")\"  -- paren\n      | \"+\" PriExp   -- pos\n      | \"-\" PriExp   -- neg\n      | FnIdent\n      | ArrayIdent\n      | PlainIdent\n      | number\n      | Abs\n      | AddressOf\n      | Asc\n      | Atn\n      | Cint\n      | Cos\n      | Creal\n      | Derr\n      | Eof\n      | Erl\n      | Err\n      | Exp\n      | Fix\n      | Fre\n      | Himem\n      | Inkey\n      | Inp\n      | Instr\n      | Int\n      | Joy\n      | Len\n      | Log\n      | Log10\n      | Max\n      | Min\n      | Peek\n      | Pi\n      | Pos\n      | Remain\n      | Rnd\n      | Round\n      | Sgn\n      | Sin\n      | Sq\n      | Sqr\n      | Tan\n      | Test\n      | Testr\n      | Time\n      | Unt\n      | Val\n      | Vpos\n      | Xpos\n      | Ypos\n\n    CondExp\n      = NumExp\n\n    PlainIdent\n      = ident\n\n    StrPlainIdent\n      = strIdent\n\n    ArrayArgs\n      = NonemptyListOf<NumExp, \",\">\n\n    ArrayIdent\n      = ident \"(\" ArrayArgs \")\"\n      | ident \"[\" ArrayArgs \"]\"\n\n    StrArrayIdent\n      = strIdent \"(\" ArrayArgs \")\"\n      | strIdent \"[\" ArrayArgs \"]\"\n\n    DimArrayArgs\n      = NonemptyListOf<NumExp, \",\">\n\n    DimArrayIdent\n      = ident \"(\" DimArrayArgs \")\"\n      | strIdent \"(\" DimArrayArgs \")\"\n      | ident \"[\" DimArrayArgs \"]\"\n      | strIdent \"[\" DimArrayArgs \"]\"\n\n    EraseIdent\n     = strIdent\n     | ident\n\n    SimpleIdent\n      = StrPlainIdent\n      | PlainIdent\n\n    AnyIdent\n      = StrArrayIdent\n      | ArrayIdent\n      | StrPlainIdent\n      | PlainIdent\n\n    FnIdent\n      = fnIdent AnyFnArgs?\n\n    StrFnIdent\n      = strFnIdent AnyFnArgs?\n\n    AnyFnArg\n      = StrExp\n      | NumExp\n\n    AnyFnArgs\n      = \"(\" ListOf<AnyFnArg, \",\"> \")\"\n\n\n    keyword\n      = abs | after | and | asc | atn | auto | binS | border | break\n      | call | cat | chain | chrS | cint | clear | clg | closein | closeout | cls | cont | copychrS | cos | creal | cursor\n      | data | decS | def | defint | defreal | defstr | deg | delete | derr | di | dim | draw | drawr\n      | edit | ei | else | endLit | ent | env | eof | erase | erl | err | error | every | exp | fill | fix | fn | for | frame | fre | gosub | goto | graphics\n      | hexS | himem | if | ink | inkey | inkeyS|  inp | input | instr | int | joy | key | leftS | len | let | line | list | load | locate | log | log10 | lowerS\n      | mask | max | memory | merge | midS | min | mod | mode | move | mover | new | next | not | on | openin | openout | or | origin | out\n      | paper | peek | pen | pi | plot | plotr | poke | pos | print\n      | rad | randomize | read | release | rem | remain | renum | restore | resume | return | rightS | rnd | round | run\n      | save | sgn | sin | sound | spaceS | spc | speed | sq | sqr | step | stop | strS | stringS | swap | symbol\n      | tab | tag | tagoff | tan | test | testr | then | time | to | troff | tron | unt | upperS | using\n      | val | vpos | wait | wend | while | width | window | write | xor | xpos | ypos | zone\n\n    abs\n      = (\"abs\" | \"ABS\") ~identPart\n    after\n      = (\"after\" | \"AFTER\") ~identPart\n    and\n      = (\"and\" | \"AND\") ~identPart\n    asc\n      = (\"asc\" | \"ASC\") ~identPart\n    atn\n      = (\"atn\" | \"ATN\") ~identPart\n    auto\n      = (\"auto\" | \"AUTO\") ~identPart\n    binS\n      = (\"bin$\" | \"BIN$\") ~identPart\n    border\n      = (\"border\" | \"BORDER\") ~identPart\n    break\n      = (\"break\" | \"BREAK\") ~identPart\n    call\n      = (\"call\" | \"CALL\") ~identPart\n    cat\n      = (\"cat\" | \"CAT\") ~identPart\n    chain\n      = (\"chain\" | \"CHAIN\") ~identPart\n    chrS\n      = (\"chr$\" | \"CHR$\") ~identPart\n    cint\n      = (\"cint\" | \"CINT\") ~identPart\n    clear\n      = (\"clear\" | \"CLEAR\") ~identPart\n    clg\n      = (\"clg\" | \"CLG\") ~identPart\n    closein\n      = (\"closein\" | \"CLOSEIN\") ~identPart\n    closeout\n      = (\"closeout\" | \"CLOSEOUT\") ~identPart\n    cls\n      = (\"cls\" | \"CLS\") ~identPart\n    cont\n      = (\"cont\" | \"CONT\") ~identPart\n    copychrS\n      = (\"copychr$\" | \"COPYCHR$\") ~identPart\n    cos\n      = (\"cos\" | \"COS\") ~identPart\n    creal\n      = (\"creal\" | \"CREAL\") ~identPart\n    cursor\n      = (\"cursor\" | \"CURSOR\") ~identPart\n    data\n      = (\"data\" | \"DATA\") ~identPart\n    decS\n      = (\"dec$\" | \"DEC$\") ~identPart\n    def\n      = (\"def\" | \"DEF\") ~identPart\n    defint\n      = (\"defint\" | \"DEFINT\") ~identPart\n    defreal\n      = (\"defreal\" | \"DEFREAL\") ~identPart\n    defstr\n      = (\"defstr\" | \"DEFSTR\") ~identPart\n    deg\n      = (\"deg\" | \"DEG\") ~identPart\n    delete\n      = (\"delete\" | \"DELETE\") ~identPart\n    derr\n      = (\"derr\" | \"DERR\") ~identPart\n    di\n      = (\"di\" | \"DI\") ~identPart\n    dim\n      = (\"dim\" | \"DIM\") ~identPart\n    draw\n      = (\"draw\" | \"DRAW\") ~identPart\n    drawr\n      = (\"drawr\" | \"DRAWR\") ~identPart\n    edit\n      = (\"edit\" | \"EDIT\") ~identPart\n    ei\n      = (\"ei\" | \"EI\") ~identPart\n    else\n      = (\"else\" | \"ELSE\") ~identPart\n    endLit\n      = (\"end\" | \"END\") ~identPart\n    ent\n      = (\"ent\" | \"ENT\") ~identPart\n    env\n      = (\"env\" | \"ENV\") ~identPart\n    eof\n      = (\"eof\" | \"EOF\") ~identPart\n    erase\n      = (\"erase\" | \"ERASE\") ~identPart\n    erl\n      = (\"erl\" | \"ERL\") ~identPart\n    err\n      = (\"err\" | \"ERR\") ~identPart\n    error\n      = (\"error\" | \"ERROR\") ~identPart\n    every\n      = (\"every\" | \"EVERY\") ~identPart\n    exp\n      = (\"exp\" | \"EXP\") ~identPart\n    fill\n      = (\"fill\" | \"FILL\") ~identPart\n    fix\n      = (\"fix\" | \"FIX\") ~identPart\n    fn\n      = (\"fn\" | \"FN\")\n    for\n      = (\"for\" | \"FOR\") ~identPart\n    frame\n      = (\"frame\" | \"FRAME\") ~identPart\n    fre\n      = (\"fre\" | \"FRE\") ~identPart\n    gosub\n      = (\"gosub\" | \"GOSUB\") ~identPart\n    goto\n      = (\"goto\" | \"GOTO\") ~identPart\n    graphics\n      = (\"graphics\" | \"GRAPHICS\") ~identPart\n    hexS\n      = (\"hex$\" | \"HEX$\") ~identPart\n    himem\n      = (\"himem\" | \"HIMEM\") ~identPart\n    if\n      = (\"if\" | \"IF\") ~identPart\n    ink\n      = (\"ink\" | \"INK\") ~identPart\n    inkey\n      = (\"inkey\" | \"INKEY\") ~identPart\n    inkeyS\n      = (\"inkey$\" | \"INKEY$\") ~identPart\n    inp\n      = (\"inp\" | \"INP\") ~identPart\n    input\n      = (\"input\" | \"INPUT\") ~identPart\n    instr\n      = (\"instr\" | \"INSTR\") ~identPart\n    int\n      = (\"int\" | \"INT\") ~identPart\n    joy\n      = (\"joy\" | \"JOY\") ~identPart\n    key\n      = (\"key\" | \"KEY\") ~identPart\n    leftS\n      = (\"left$\" | \"LEFT$\") ~identPart\n    len\n      = (\"len\" | \"LEN\") ~identPart\n    let\n      = (\"let\" | \"LET\") ~identPart\n    line\n      = (\"line\" | \"LINE\") ~identPart\n    list\n      = (\"list\" | \"LIST\") ~identPart\n    load\n      = (\"load\" | \"LOAD\") ~identPart\n    locate\n      = (\"locate\" | \"LOCATE\") ~identPart\n    log\n      = (\"log\" | \"LOG\") ~identPart\n    log10\n      = (\"log10\" | \"LOG10\") ~identPart\n    lowerS\n      = (\"lower$\" | \"LOWER$\") ~identPart\n    mask\n      = (\"mask\" | \"MASK\") ~identPart\n    max\n      = (\"max\" | \"MAX\") ~identPart\n    memory\n      = (\"memory\" | \"MEMORY\") ~identPart\n    merge\n      = (\"merge\" | \"MERGE\") ~identPart\n    midS\n      = (\"mid$\" | \"MID$\") ~identPart\n    min\n      = (\"min\" | \"MIN\") ~identPart\n    mod\n      = (\"mod\" | \"MOD\") ~identPart\n    mode\n      = (\"mode\" | \"MODE\") ~identPart\n    move\n      = (\"move\" | \"MOVE\") ~identPart\n    mover\n      = (\"mover\" | \"MOVER\") ~identPart\n    new\n      = (\"new\" | \"NEW\") ~identPart\n    next\n      = (\"next\" | \"NEXT\") ~identPart\n    not\n      = (\"not\" | \"NOT\") ~identPart\n    on\n      = (\"on\" | \"ON\") ~identPart\n    openin\n      = (\"openin\" | \"OPENIN\") ~identPart\n    openout\n      = (\"openout\" | \"OPENOUT\") ~identPart\n    or\n      = (\"or\" | \"OR\") ~identPart\n    origin\n      = (\"origin\" | \"ORIGIN\") ~identPart\n    out\n      = (\"out\" | \"OUT\") ~identPart\n    paper\n      = (\"paper\" | \"PAPER\") ~identPart\n    peek\n      = (\"peek\" | \"PEEK\") ~identPart\n    pen\n      = (\"pen\" | \"PEN\") ~identPart\n    pi\n      = (\"pi\" | \"PI\") ~identPart\n    plot\n      = (\"plot\" | \"PLOT\") ~identPart\n    plotr\n      = (\"plotr\" | \"PLOTR\") ~identPart\n    poke\n      = (\"poke\" | \"POKE\") ~identPart\n    pos\n      = (\"pos\" | \"POS\") ~identPart\n    print\n      = (\"print\" | \"PRINT\") ~identPart\n    rad\n      = (\"rad\" | \"RAD\") ~identPart\n    randomize\n      = (\"randomize\" | \"RANDOMIZE\") ~identPart\n    read\n      = (\"read\" | \"READ\") ~identPart\n    release\n      = (\"release\" | \"RELEASE\") ~identPart\n    rem\n      = (\"rem\" | \"REM\") ~identPart\n    remain\n      = (\"remain\" | \"REMAIN\") ~identPart\n    renum\n      = (\"renum\" | \"RENUM\") ~identPart\n    restore\n      = (\"restore\" | \"RESTORE\") ~identPart\n    resume\n      = (\"resume\" | \"RESUME\") ~identPart\n    return\n      = (\"return\" | \"RETURN\") ~identPart\n    rightS\n      = (\"right$\" | \"RIGHT$\") ~identPart\n    rnd\n      = (\"rnd\" | \"RND\") ~identPart\n    round\n      = (\"round\" | \"ROUND\") ~identPart\n    run\n      = (\"run\" | \"RUN\") ~identPart\n    save\n      = (\"save\" | \"SAVE\") ~identPart\n    sgn\n      = (\"sgn\" | \"SGN\") ~identPart\n    sin\n      = (\"sin\" | \"SIN\") ~identPart\n    sound\n      = (\"sound\" | \"SOUND\") ~identPart\n    spaceS\n      = (\"space$\" | \"SPACE$\") ~identPart\n    spc\n      = (\"spc\" | \"SPC\") ~identPart\n    speed\n      = (\"speed\" | \"SPEED\") ~identPart\n    sq\n      = (\"sq\" | \"SQ\") ~identPart\n    sqr\n      = (\"sqr\" | \"SQR\") ~identPart\n    step\n      = (\"step\" | \"STEP\") ~identPart\n    stop\n      = (\"stop\" | \"STOP\") ~identPart\n    strS\n      = (\"str$\" | \"STR$\") ~identPart\n    stringS\n      = (\"string$\" | \"STRING$\") ~identPart\n    swap\n      = (\"swap\" | \"SWAP\") ~identPart\n    symbol\n      = (\"symbol\" | \"SYMBOL\") ~identPart\n    tab\n      = (\"tab\" | \"TAB\") ~identPart\n    tag\n      = (\"tag\" | \"TAG\") ~identPart\n    tagoff\n      = (\"tagoff\" | \"TAGOFF\") ~identPart\n    tan\n      = (\"tan\" | \"TAN\") ~identPart\n    test\n      = (\"test\" | \"TEST\") ~identPart\n    testr\n      = (\"testr\" | \"TESTR\") ~identPart\n    then\n      = (\"then\" | \"THEN\") ~identPart\n    time\n      = (\"time\" | \"TIME\") ~identPart\n    to\n      = (\"to\" | \"TO\") ~identPart\n    troff\n      = (\"troff\" | \"TROFF\") ~identPart\n    tron\n      = (\"tron\" | \"TRON\") ~identPart\n    unt\n      = (\"unt\" | \"UNT\") ~identPart\n    upperS\n      = (\"upper$\" | \"UPPER$\") ~identPart\n    using\n      = (\"using\" | \"USING\") ~identPart\n    val\n      = (\"val\" | \"VAL\") ~identPart\n    vpos\n      = (\"vpos\" | \"VPOS\") ~identPart\n    wait\n      = (\"wait\" | \"WAIT\") ~identPart\n    wend\n      = (\"wend\" | \"WEND\") ~identPart\n    while\n      = (\"while\" | \"WHILE\") ~identPart\n    width\n      = (\"width\" | \"WIDTH\") ~identPart\n    window\n      = (\"window\" | \"WINDOW\") ~identPart\n    write\n      = (\"write\" | \"WRITE\") ~identPart\n    xor\n      = (\"xor\" | \"XOR\") ~identPart\n    xpos\n      = (\"xpos\" | \"XPOS\") ~identPart\n    ypos\n      = (\"ypos\" | \"YPOS\") ~identPart\n    zone\n      = (\"zone\" | \"ZONE\") ~identPart\n\n    ident (an identifier)\n      = ~keyword identName (\"%\" | \"!\")?\n\n    fnIdent\n      = fn space* ~keyword identName (\"%\" | \"!\")?\n\n    rsxIdentName = letter identPart*\n\n    identName = identStart identPart*\n\n    identStart = letter\n\n    identPart = alnum | \".\"\n\n    strIdent\n      = ~keyword identName \"$\"\n\n    strFnIdent\n      = fn space* ~keyword identName \"$\"\n\n    binaryDigit = \"0\"..\"1\"\n\n    dataUnquoted = (~(eol | \",\" | \":\" | \"'\") any)*\n\n    exponentPart = (\"e\" | \"E\") signedDecimal\n\n    decimalValue  (decimal number)\n      = digit* \".\" digit+ exponentPart* -- fract\n      | digit+            exponentPart* -- whole\n\n    hexValue\n      = \"&\" hexDigit+\n\n    binaryValue\n      = caseInsensitive<\"&x\"> binaryDigit+\n\n    number  (a number)\n      = decimalValue\n      | hexValue\n      | binaryValue\n\n    signedDecimal\n      = (\"+\" | \"-\")? decimalValue\n\n    partToEol\n      = (~eol any)*\n\n    stringDelimiter = \"\\\\\"\"\n\n    string\n      = stringDelimiter (~(stringDelimiter | eol | end) any)* (stringDelimiter | &eol | &end)\n\n    label = digit+\n\n    space := \" \" | \"\\t\"\n\n    eol (end of line)\n      = \"\\\\n\"\n    }\n  `,\n\n  strictGrammar:\n    `strictGrammar <: basicGrammar {\n    abs\n      := \"ABS\" ~identPart\n    after\n      := \"AFTER\" ~identPart\n    and\n      := \"AND\" ~identPart\n    asc\n      := \"ASC\" ~identPart\n    atn\n      := \"ATN\" ~identPart\n    auto\n      := \"AUTO\" ~identPart\n    binS\n      := \"BIN$\" ~identPart\n    border\n      := \"BORDER\" ~identPart\n    break\n      := \"BREAK\" ~identPart\n    call\n      := \"CALL\" ~identPart\n    cat\n      := \"CAT\" ~identPart\n    chain\n      := \"CHAIN\" ~identPart\n    chrS\n      := \"CHR$\" ~identPart\n    cint\n      := \"CINT\" ~identPart\n    clear\n      := \"CLEAR\" ~identPart\n    clg\n      := \"CLG\" ~identPart\n    closein\n      := \"CLOSEIN\" ~identPart\n    closeout\n      := \"CLOSEOUT\" ~identPart\n    cls\n      := \"CLS\" ~identPart\n    cont\n      := \"CONT\" ~identPart\n    copychrS\n      := \"COPYCHR$\" ~identPart\n    cos\n      := \"COS\" ~identPart\n    creal\n      := \"CREAL\" ~identPart\n    cursor\n      := \"CURSOR\" ~identPart\n    data\n      := \"DATA\" ~identPart\n    decS\n      := \"DEC$\" ~identPart\n    def\n      := \"DEF\" ~identPart\n    defint\n      := \"DEFINT\" ~identPart\n    defreal\n      := \"DEFREAL\" ~identPart\n    defstr\n      := \"DEFSTR\" ~identPart\n    deg\n      := \"DEG\" ~identPart\n    delete\n      := \"DELETE\" ~identPart\n    derr\n      := \"DERR\" ~identPart\n    di\n      := \"DI\" ~identPart\n    dim\n      := \"DIM\" ~identPart\n    draw\n      := \"DRAW\" ~identPart\n    drawr\n      := \"DRAWR\" ~identPart\n    edit\n      := \"EDIT\" ~identPart\n    ei\n      := \"EI\" ~identPart\n    else\n      := \"ELSE\" ~identPart\n    endLit\n      := \"END\" ~identPart\n    ent\n      := \"ENT\" ~identPart\n    env\n      := \"ENV\" ~identPart\n    eof\n      := \"EOF\" ~identPart\n    erase\n      := \"ERASE\" ~identPart\n    erl\n      := \"ERL\" ~identPart\n    err\n      := \"ERR\" ~identPart\n    error\n      := \"ERROR\" ~identPart\n    every\n      := \"EVERY\" ~identPart\n    exp\n      := \"EXP\" ~identPart\n    fill\n      := \"FILL\" ~identPart\n    fix\n      := \"FIX\" ~identPart\n    fn\n      := \"FN\"\n    for\n      := \"FOR\" ~identPart\n    frame\n      := \"FRAME\" ~identPart\n    fre\n      := \"FRE\" ~identPart\n    gosub\n      := \"GOSUB\" ~identPart\n    goto\n      := \"GOTO\" ~identPart\n    graphics\n      := \"GRAPHICS\" ~identPart\n    hexS\n      := \"HEX$\" ~identPart\n    himem\n      := \"HIMEM\" ~identPart\n    if\n      := \"IF\" ~identPart\n    ink\n      := \"INK\" ~identPart\n    inkey\n      := \"INKEY\" ~identPart\n    inkeyS\n      := \"INKEY$\" ~identPart\n    inp\n      := \"INP\" ~identPart\n    input\n      := \"INPUT\" ~identPart\n    instr\n      := \"INSTR\" ~identPart\n    int\n      := \"INT\" ~identPart\n    joy\n      := \"JOY\" ~identPart\n    key\n      := \"KEY\" ~identPart\n    leftS\n      := \"LEFT$\" ~identPart\n    len\n      := \"LEN\" ~identPart\n    let\n      := \"LET\" ~identPart\n    line\n      := \"LINE\" ~identPart\n    list\n      := \"LIST\" ~identPart\n    load\n      := \"LOAD\" ~identPart\n    locate\n      := \"LOCATE\" ~identPart\n    log\n      := \"LOG\" ~identPart\n    log10\n      := \"LOG10\" ~identPart\n    lowerS\n      := \"LOWER$\" ~identPart\n    mask\n      := \"MASK\" ~identPart\n    max\n      := \"MAX\" ~identPart\n    memory\n      := \"MEMORY\" ~identPart\n    merge\n      := \"MERGE\" ~identPart\n    midS\n      := \"MID$\" ~identPart\n    min\n      := \"MIN\" ~identPart\n    mod\n      := \"MOD\" ~identPart\n    mode\n      := \"MODE\" ~identPart\n    move\n      := \"MOVE\" ~identPart\n    mover\n      := \"MOVER\" ~identPart\n    new\n      := \"NEW\" ~identPart\n    next\n      := \"NEXT\" ~identPart\n    not\n      := \"NOT\" ~identPart\n    on\n      := \"ON\" ~identPart\n    openin\n      := \"OPENIN\" ~identPart\n    openout\n      := \"OPENOUT\" ~identPart\n    or\n      := \"OR\" ~identPart\n    origin\n      := \"ORIGIN\" ~identPart\n    out\n      := \"OUT\" ~identPart\n    paper\n      := \"PAPER\" ~identPart\n    peek\n      := \"PEEK\" ~identPart\n    pen\n      := \"PEN\" ~identPart\n    pi\n      := \"PI\" ~identPart\n    plot\n      := \"PLOT\" ~identPart\n    plotr\n      := \"PLOTR\" ~identPart\n    poke\n      := \"POKE\" ~identPart\n    pos\n      := \"POS\" ~identPart\n    print\n      := \"PRINT\" ~identPart\n    rad\n      := \"RAD\" ~identPart\n    randomize\n      := \"RANDOMIZE\" ~identPart\n    read\n      := \"READ\" ~identPart\n    release\n      := \"RELEASE\" ~identPart\n    rem\n      := \"REM\" ~identPart\n    remain\n      := \"REMAIN\" ~identPart\n    renum\n      := \"RENUM\" ~identPart\n    restore\n      := \"RESTORE\" ~identPart\n    resume\n      := \"RESUME\" ~identPart\n    return\n      := \"RETURN\" ~identPart\n    rightS\n      := \"RIGHT$\" ~identPart\n    rnd\n      := \"RND\" ~identPart\n    round\n      := \"ROUND\" ~identPart\n    run\n      := \"RUN\" ~identPart\n    save\n      := \"SAVE\" ~identPart\n    sgn\n      := \"SGN\" ~identPart\n    sin\n      := \"SIN\" ~identPart\n    sound\n      := \"SOUND\" ~identPart\n    spaceS\n      := \"SPACE$\" ~identPart\n    spc\n      := \"SPC\" ~identPart\n    speed\n      := \"SPEED\" ~identPart\n    sq\n      := \"SQ\" ~identPart\n    sqr\n      := \"SQR\" ~identPart\n    step\n      := \"STEP\" ~identPart\n    stop\n      := \"STOP\" ~identPart\n    strS\n      := \"STR$\" ~identPart\n    stringS\n      := \"STRING$\" ~identPart\n    swap\n      := \"SWAP\" ~identPart\n    symbol\n      := \"SYMBOL\" ~identPart\n    tab\n      := \"TAB\" ~identPart\n    tag\n      := \"TAG\" ~identPart\n    tagoff\n      := \"TAGOFF\" ~identPart\n    tan\n      := \"TAN\" ~identPart\n    test\n      := \"TEST\" ~identPart\n    testr\n      := \"TESTR\" ~identPart\n    then\n      := \"THEN\" ~identPart\n    time\n      := \"TIME\" ~identPart\n    to\n      := \"TO\" ~identPart\n    troff\n      := \"TROFF\" ~identPart\n    tron\n      := \"TRON\" ~identPart\n    unt\n      := \"UNT\" ~identPart\n    upperS\n      := \"UPPER$\" ~identPart\n    using\n      := \"USING\" ~identPart\n    val\n      := \"VAL\" ~identPart\n    vpos\n      := \"VPOS\" ~identPart\n    wait\n      := \"WAIT\" ~identPart\n    wend\n      := \"WEND\" ~identPart\n    while\n      := \"WHILE\" ~identPart\n    width\n      := \"WIDTH\" ~identPart\n    window\n      := \"WINDOW\" ~identPart\n    write\n      := \"WRITE\" ~identPart\n    xor\n      := \"XOR\" ~identPart\n    xpos\n      := \"XPOS\" ~identPart\n    ypos\n      := \"YPOS\" ~identPart\n    zone\n      := \"ZONE\" ~identPart\n\n    identStart := lower\n\n    rsxIdentName := upper (upper | digit | \".\")*\n}\n  `\n};\n","import type { DefinedLabelEntryType, UsedLabelEntryType } from \"./Interfaces\";\n\ninterface VariableEntryType {\n    count: number;\n    type: string;\n}\n\ntype VariableScopesEntryType = Record<string, number>;\nexport type VariableScopesType = Record<string, VariableScopesEntryType>;\n\n\n\nexport class SemanticsHelper {\n    private lineIndex = 0;\n    private indent = 0;\n    private readonly compileMessages: string[] = [];\n    private readonly variables: Record<string, VariableEntryType> = {};\n    private readonly variableScopes: VariableScopesType = {};\n    private readonly varLetterTypes: Record<string, string> = {};\n\n    private currentFunction = \"\";\n    private readonly definedLabels: DefinedLabelEntryType[] = [];\n    private readonly usedLabels: Record<string, Record<string, UsedLabelEntryType>> = {};\n    private readonly dataList: (string | number)[] = [];\n    private dataIndex = 0;\n    private readonly restoreMap: Record<string, number> = {};\n    private static readonly reJsKeyword = /^(arguments|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|eval|export|extends|false|finally|for|function|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)$/;\n    private readonly instrMap: Record<string, number> = {};\n    private isDeg = false;\n    private isTag = false;\n    private defContextStatus = \"\"; // collect | use | \"\"\n    private readonly defContextVars: string[] = [];\n\n    public addCompileMessage(message: string): void {\n        this.compileMessages.push(message);\n    }\n\n    public getCompileMessages(): string[] {\n        return this.compileMessages;\n    }\n\n    public getDeg(): boolean {\n        return this.isDeg;\n    }\n\n    public setDeg(isDeg: boolean): void {\n        this.isDeg = isDeg;\n    }\n\n    public getTag(): boolean {\n        return this.isTag;\n    }\n\n    public setTag(isTag: boolean): void {\n        this.isTag = isTag;\n    }\n\n    public addIndent(num: number): number {\n        this.indent += num;\n        return this.indent;\n    }\n\n    public setIndent(indent: number): void {\n        this.indent = indent;\n    }\n\n    public getIndent(): number {\n        return this.indent;\n    }\n\n    public getIndentStr(): string {\n        if (this.indent < 0) {\n            console.error(\"getIndentStr: lineIndex=\", this.lineIndex, \", indent=\", this.indent);\n            return \"\";\n        }\n        return \" \".repeat(this.indent);\n    }\n\n    public addDataIndex(count: number): number {\n        return this.dataIndex += count;\n    }\n\n    public getDataIndex(): number {\n        return this.dataIndex;\n    }\n\n    public addDefinedLabel(label: string, line: number): void {\n        this.definedLabels.push({\n            label,\n            first: line,\n            last: -1,\n            dataIndex: -1\n        });\n    }\n\n    public getDefinedLabels(): DefinedLabelEntryType[] {\n        return this.definedLabels;\n    }\n\n    public addUsedLabel(label: string, type: string): void {\n        if (!this.usedLabels[type]) {\n            this.usedLabels[type] = {};\n        }\n        const usedLabelsForType = this.usedLabels[type];\n        usedLabelsForType[label] = usedLabelsForType[label] || {\n            count: 0\n        };\n        usedLabelsForType[label].count = (usedLabelsForType[label].count || 0) + 1;\n    }\n\n    public getUsedLabels(): Record<string, Record<string, UsedLabelEntryType>> {\n        return this.usedLabels;\n    }\n\n    public getInstrMap(): Record<string, number> {\n        return this.instrMap;\n    }\n\n    public addInstr(name: string): number {\n        this.instrMap[name] = (this.instrMap[name] || 0) + 1;\n        return this.instrMap[name];\n    }\n\n    public getVariables(): string[] {\n        return Object.keys(this.variables);\n    }\n\n    private createVariableOrCount(name: string, type: string) {\n        if (!this.variables[name]) {\n            this.variables[name] = {\n                count: 1,\n                type\n            }\n        } else {\n            this.variables[name].count += 1;\n            if (type !== this.variables[name].type) {\n                console.warn(`Var type changed for '${name}': ${this.variables[name].type} => ${type}`);\n                this.addCompileMessage(`WARNING: Variable has plain and array type: ${name}`);\n                this.variables[name].type = type;\n            }\n        }\n        \n        if (!this.variableScopes[name]) {\n            this.variableScopes[name] = {};\n        }\n        const variableScope = this.variableScopes[name];\n        variableScope[this.currentFunction] = (variableScope[this.currentFunction] || 0) + 1;\n    }\n\n    public getVariable(name: string, type = \"\"): string {\n        name = name.toLowerCase();\n        const matches = name.match(/\\/\\* not supported: [%|!] \\*\\//);\n        if (matches) {\n            name = name.substring(0, matches.index);\n        }\n\n        if (SemanticsHelper.reJsKeyword.test(name)) {\n            name = `_${name}`;\n        }\n\n        //const type = isArray ? \"A\" : \"\";\n\n        const defContextStatus = this.defContextStatus;\n        if (defContextStatus === \"\") { // not in defContext?\n            this.createVariableOrCount(name, type);\n        } else if (defContextStatus === \"collect\") {\n            this.defContextVars.push(name);\n        } else if (defContextStatus === \"use\") {\n            if (!this.defContextVars.includes(name)) { // variable not bound to DEF FN?\n                this.createVariableOrCount(name, type);\n            }\n        }\n        return name + (matches ? matches[0] : \"\");\n    }\n\n    public getVariableScopes() {\n        return this.variableScopes;\n    }\n\n    public setCurrentFunction(label: string) {\n        this.currentFunction = label;\n    }\n\n    public setDefContextStatus(status: string): void {\n        this.defContextStatus = status;\n        if (status === \"collect\" || status === \"\") {\n            this.defContextVars.length = 0;\n        }\n    }\n\n    public setVarLetterTypes(letters: string[], type: string) {\n        for (const letter of letters) {\n            this.varLetterTypes[letter] = type;\n        }\n    }\n\n    public getVarType(name: string) {\n        const letter = name.charAt(0);\n        return this.varLetterTypes[letter] || \"\";\n    }\n\n    private static deleteAllItems(items: Record<string, unknown>): void {\n        for (const name in items) {\n            delete items[name]; // eslint-disable-line @typescript-eslint/no-dynamic-delete\n        }\n    }\n\n    public incrementLineIndex(): number {\n        this.lineIndex += 1;\n        return this.lineIndex;\n    }\n\n    public getRestoreMap(): Record<string, number> {\n        return this.restoreMap;\n    }\n\n    public addRestoreLabel(label: string): void {\n        this.restoreMap[label] = -1;\n    }\n\n    public getDataList(): (string | number)[] {\n        return this.dataList;\n    }\n\n    public resetParser(): void {\n        this.lineIndex = 0;\n        this.indent = 0;\n        this.compileMessages.length = 0;\n        SemanticsHelper.deleteAllItems(this.variables);\n        SemanticsHelper.deleteAllItems(this.variableScopes);\n        SemanticsHelper.deleteAllItems(this.varLetterTypes);\n        this.currentFunction = \"\";\n        this.definedLabels.length = 0;\n        SemanticsHelper.deleteAllItems(this.usedLabels);\n        this.dataList.length = 0;\n        this.dataIndex = 0;\n        SemanticsHelper.deleteAllItems(this.restoreMap);\n        SemanticsHelper.deleteAllItems(this.instrMap);\n        this.isDeg = false;\n        this.isTag = false;\n        this.defContextStatus = \"\";\n        this.defContextVars.length = 0;\n    }\n}\n","export const CommaOpChar = \"\\u2192\"; // Unicode arrow right\nexport const TabOpChar = \"\\u21d2\"; // Unicode double arrow right\n\nexport const basicErrors = [\n    \"Improper argument\", // 0\n    \"Unexpected NEXT\", // 1\n    \"Syntax Error\", // 2\n    \"Unexpected RETURN\", // 3\n    \"DATA exhausted\", // 4\n    \"Improper argument\", // 5\n    \"Overflow\", // 6\n    \"Memory full\", // 7\n    \"Line does not exist\", // 8\n    \"Subscript out of range\", // 9\n    \"Array already dimensioned\", // 10\n    \"Division by zero\", // 11\n    \"Invalid direct command\", // 12\n    \"Type mismatch\", // 13\n    \"String space full\", // 14\n    \"String too long\", // 15\n    \"String expression too complex\", // 16\n    \"Cannot CONTinue\", // 17\n    \"Unknown user function\", // 18\n    \"RESUME missing\", // 19\n    \"Unexpected RESUME\", // 20\n    \"Direct command found\", // 21\n    \"Operand missing\", // 22\n    \"Line too long\", // 23\n    \"EOF met\", // 24\n    \"File type error\", // 25\n    \"NEXT missing\", // 26\n    \"File already open\", // 27\n    \"Unknown command\", // 28\n    \"WEND missing\", // 29\n    \"Unexpected WEND\", // 30\n    \"File not open\", // 31,\n    \"Broken\", // 32 \"Broken in\" (derr=146: xxx not found)\n    \"Unknown error\" // 33...\n];\n","import type { ActionDict, Node } from \"ohm-js\";\nimport type { DefinedLabelEntryType, ISemantics, UsedLabelEntryType } from \"./Interfaces\";\nimport { SemanticsHelper, VariableScopesType } from \"./SemanticsHelper\";\nimport { CommaOpChar, TabOpChar } from \"./Constants\";\n\nfunction evalChildren(children: Node[]): string[] {\n\treturn children.map(child => child.eval());\n}\n\nfunction evalOptionalArg(arg: Node): string {\n\tconst argEval = arg.child(0)?.eval();\n\treturn argEval !== undefined ? `, ${argEval}` : \"\";\n}\n\nfunction createComparisonExpression(a: Node, op: string, b: Node): string {\n\treturn `-(${a.eval()} ${op} ${b.eval()})`;\n}\n\nfunction expandLetterRanges(lettersAndRanges: string[]) {\n\t// a list of single letters \"a\" or range \"a-b\", expand to single letters\n\tconst letters = lettersAndRanges.flatMap(x => x.length === 1\n\t\t? x\n\t\t: Array.from(\n\t\t\t{ length: x.charCodeAt(2) - x.charCodeAt(0) + 1 },\n\t\t\t(_, i) => String.fromCharCode(x.charCodeAt(0) + i)\n\t\t)\n\t);\n\treturn letters;\n}\n\nfunction getSemanticsActions(semanticsHelper: SemanticsHelper) {\n\tconst adaptIdentName = (str: string) => str.replace(/\\./g, \"_\");\n\n\tconst drawMovePlot = (lit: Node, x: Node, _comma1: Node, y: Node, _comma2: Node, pen: Node, _comma3: Node, mode: Node) => {\n\t\tconst command = lit.sourceString.toLowerCase();\n\t\tsemanticsHelper.addInstr(command);\n\t\tconst modeStr = mode.child(0) ? notSupported(mode.child(0)) : \"\";\n\t\treturn `${command}(${x.eval()}, ${y.eval()}${evalOptionalArg(pen)}${modeStr})`;\n\t};\n\n\tconst cosSinTan = (lit: Node, _open: Node, num: Node, _close: Node) => { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\tconst func = lit.sourceString.toLowerCase();\n\t\tsemanticsHelper.addInstr(func);\n\n\t\tif (!semanticsHelper.getDeg()) {\n\t\t\treturn `${func}(${num.eval()})`;\n\t\t}\n\t\tsemanticsHelper.addInstr(\"toRad\");\n\t\treturn `${func}(toRad(${num.eval()}))`;\n\t};\n\n\tconst loopBlock = (startNode: Node, content: Node, separator: Node, endNode: Node) => {\n\t\tconst startStr = startNode.eval();\n\t\tconst contentStr = evalChildren(content.children).join(';');\n\t\tconst endStr = endNode.eval();\n\n\t\tlet separatorStr = separator.eval();\n\t\tif (contentStr && !contentStr.endsWith(\"}\")) {\n\t\t\tseparatorStr = \";\" + separatorStr;\n\t\t}\n\t\treturn `${startStr}${contentStr}${separatorStr}${endStr}`;\n\t};\n\n\tconst uncommentNotSupported = (str: string) => {\n\t\tconst regExpNotSupp = new RegExp(\"/\\\\* not supported: (.*) \\\\*/\");\n\t\tif (regExpNotSupp.test(str)) {\n\t\t\treturn str.replace(regExpNotSupp, \"$1\");\n\t\t}\n\t\treturn str;\n\t};\n\n\tconst evalAnyFn = (arg: Node): string => {\n\t\tif (arg.isIteration()) {\n\t\t\treturn arg.children.map(evalAnyFn).join(\",\");\n\t\t} else if (arg.isLexical() || arg.isTerminal()) {\n\t\t\treturn arg.sourceString;\n\t\t}\n\t\tconst argStr = arg.eval() as string;\n\t\treturn uncommentNotSupported(argStr);\n\t};\n\n\tconst notSupported = (str: Node, ...args: Node[]) => {\n\t\tconst name = evalAnyFn(str);\n\n\t\tconst argList = args.map(evalAnyFn);\n\t\tconst argStr = argList.length ? ` ${argList.join(\" \")}` : \"\";\n\n\t\tconst message = str.source.getLineAndColumnMessage();\n\t\tsemanticsHelper.addCompileMessage(`WARNING: Not supported: ${message}`);\n\n\t\treturn `/* not supported: ${name}${uncommentNotSupported(argStr)} */`;\n\t};\n\n\tfunction processSubroutines(lineList: string[], definedLabels: DefinedLabelEntryType[], variableList: string[], variableScopes: VariableScopesType): string[] {\n\t\tconst usedLabels = semanticsHelper.getUsedLabels();\n\t\tconst gosubLabels = usedLabels[\"gosub\"] || {};\n\n\t\tconst awaitLabels: string[] = [];\n\t\tlet subroutineStart: DefinedLabelEntryType | undefined;\n\t\tfor (const label of definedLabels) {\n\t\t\tif (gosubLabels[label.label]) {\n\t\t\t\tsubroutineStart = label;\n\t\t\t}\n\n\t\t\tif (subroutineStart && label.last >= 0) {\n\t\t\t\tconst first = subroutineStart.first;\n\t\t\t\tconst indent = lineList[first].search(/\\S|$/);\n\t\t\t\tconst indentStr = \" \".repeat(indent);\n\n\t\t\t\t// determine which variables are local to this function only\n\t\t\t\tconst funcVars: string[] = [];\n\t\t\t\tfor (const varName of variableList) {\n\t\t\t\t\tconst usage = variableScopes[varName];\n\t\t\t\t\tif (usage[subroutineStart.label] && Object.keys(usage).length === 1) {\n\t\t\t\t\t\tfuncVars.push(varName);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet hasAwait = false;\n\t\t\t\tfor (let i = first; i <= label.last; i += 1) {\n\t\t\t\t\tif (lineList[i].includes(\"await \")) {\n\t\t\t\t\t\thasAwait = true; // quick check\n\t\t\t\t\t}\n\t\t\t\t\tlineList[i] = \"  \" + lineList[i]; // indent\n\t\t\t\t\tlineList[i] = lineList[i].replace(/\\n/g, \"\\n  \");\n\t\t\t\t}\n\n\t\t\t\tconst asyncStr = hasAwait ? \"async \" : \"\";\n\t\t\t\t// Add function-local variable declarations if any\n\t\t\t\tlet funcVarDecl = \"\";\n\t\t\t\tif (funcVars.length > 0) {\n\t\t\t\t\tfuncVarDecl = `\\n${indentStr}  let ` + funcVars.map((v) => v.endsWith(\"$\") ? `${v} = \"\"` : `${v} = 0`).join(\", \") + \";\";\n\t\t\t\t}\n\n\t\t\t\tlineList[first] = `${indentStr}${asyncStr}function _${subroutineStart.label}() {${funcVarDecl}${indentStr}\\n` + lineList[first];\n\t\t\t\tlineList[label.last] = lineList[label.last].replace(`${indentStr}  return;`, `${indentStr}}`); // end of subroutine: replace \"return\" by \"}\" (can also be on same line)\n\n\t\t\t\tif (hasAwait) {\n\t\t\t\t\tawaitLabels.push(subroutineStart.label);\n\t\t\t\t}\n\t\t\t\tsubroutineStart = undefined;\n\t\t\t}\n\t\t}\n\t\treturn awaitLabels;\n\t}\n\n\tconst addSemicolon = (str: string) => {\n\t\treturn str.endsWith(\"}\") ? str : str + \";\" // add semicolon, but not for closing bracket\n\t};\n\n\tconst stringCapitalize = (str: string): string => { // capitalize first letter\n\t\treturn str.charAt(0).toUpperCase() + str.substring(1);\n\t};\n\n\tconst semantics = {\n\t\tProgram(lines: Node) {\n\t\t\tconst lineList = evalChildren(lines.children);\n\t\t\tconst variableList = semanticsHelper.getVariables();\n\t\t\tconst variableScopes = semanticsHelper.getVariableScopes();\n\n\t\t\t// Create global variable declarations (excluding function-local ones)\n\t\t\tconst globalVars = variableList.filter(varName => {\n\t\t\t\tconst usage = variableScopes[varName];\n\t\t\t\treturn usage[\"\"] || Object.keys(usage).length !== 1;\n\t\t\t});\n\n\t\t\tconst variableDeclarations = globalVars.length ? \"let \" + globalVars.map((v) => v.endsWith(\"$\") ? `${v} = \"\"` : `${v} = 0`).join(\", \") + \";\" : \"\";\n\t\t\t//const variableDeclarations = variableList.length ? \"let \" + variableList.map((v) => v.endsWith(\"$\") ? `${v} = \"\"` : `${v} = 0`).join(\", \") + \";\" : \"\";\n\n\t\t\tconst definedLabels = semanticsHelper.getDefinedLabels();\n\t\t\tconst awaitLabels = processSubroutines(lineList, definedLabels, variableList, variableScopes);\n\n\t\t\tconst instrMap = semanticsHelper.getInstrMap();\n\t\t\tconst dataList = semanticsHelper.getDataList();\n\n\t\t\t// Prepare data definition snippet if needed\n\t\t\tlet dataListSnippet = \"\";\n\t\t\tif (dataList.length) {\n\t\t\t\tconst restoreMap = semanticsHelper.getRestoreMap();\n\n\t\t\t\tfor (const label of definedLabels) {\n\t\t\t\t\tif (restoreMap[label.label] === -1) {\n\t\t\t\t\t\trestoreMap[label.label] = label.dataIndex;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const key of Object.keys(restoreMap)) {\n\t\t\t\t\tif (restoreMap[key] < 0) {\n\t\t\t\t\t\trestoreMap[key] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataListSnippet = `\nfunction _defineData() {\n\t_o._data = [\n${dataList.join(\",\\n\")}\n\t];\n\t_o._restoreMap = ${JSON.stringify(restoreMap)};\n}\n`;\n\t\t\t}\n\n\t\t\tconst libraryFunctions = Object.keys(instrMap).sort();\n\n\t\t\t// Assemble code lines\n\t\t\tconst codeLines = [\n\t\t\t\t'\"use strict\";',\n\t\t\t\tlibraryFunctions ? `const {${libraryFunctions.join(\", \")}} = _o;` : '',\n\t\t\t\tdataList.length ? '_defineData();' : '',\n\t\t\t\tvariableDeclarations,\n\t\t\t\t...lineList.filter(line => line.trimEnd() !== ''),\n\t\t\t\tdataListSnippet\n\t\t\t].filter(Boolean);\n\n\t\t\tlet lineStr = codeLines.join('\\n');\n\t\t\tif (!lineStr.endsWith(\"\\n\")) {\n\t\t\t\tlineStr += \"\\n\";\n\t\t\t}\n\t\t\tif (awaitLabels.length) {\n\t\t\t\tfor (const label of awaitLabels) {\n\t\t\t\t\tconst regEx = new RegExp(`_${label}\\\\(\\\\);`, \"g\");\n\t\t\t\t\tlineStr = lineStr.replace(regEx, `await _${label}();`);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lineStr;\n\t\t},\n\n\t\tLabelRange(start: Node, minus: Node, end: Node) {\n\t\t\treturn [start, minus, end].map((node) => evalAnyFn(node)).join(\"\");\n\t\t},\n\n\t\tLetterRange(start: Node, minus: Node, end: Node) {\n\t\t\treturn [start, minus, end].map((node) => evalAnyFn(node)).join(\"\");\n\t\t},\n\n\t\tLine(label: Node, stmts: Node, colons2: Node, comment: Node, _eol: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst labelString = label.sourceString;\n\n\t\t\tconst currentLineIndex = semanticsHelper.incrementLineIndex() - 1;\n\n\t\t\tif (labelString) {\n\t\t\t\tsemanticsHelper.addDefinedLabel(labelString, currentLineIndex);\n\n\t\t\t\t// Check if this is a gosub label and set it as current function\n\t\t\t\tconst usedLabels = semanticsHelper.getUsedLabels();\n\t\t\t\tconst gosubLabels = usedLabels[\"gosub\"] || {};\n\t\t\t\tif (gosubLabels[labelString]) {\n\t\t\t\t\tsemanticsHelper.setCurrentFunction(labelString);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst lineStr = stmts.eval();\n\n\t\t\tif (colons2.children.length) { // are there trailing colons?\n\t\t\t\tnotSupported(colons2);\n\t\t\t}\n\n\t\t\tif (lineStr === \"return\") {\n\t\t\t\tconst definedLabels = semanticsHelper.getDefinedLabels();\n\t\t\t\tif (definedLabels.length) {\n\t\t\t\t\tconst lastLabelItem = definedLabels[definedLabels.length - 1];\n\t\t\t\t\tlastLabelItem.last = currentLineIndex;\n\t\t\t\t}\n\t\t\t\t// reset current function when returning\n\t\t\t\tsemanticsHelper.setCurrentFunction(\"\");\n\t\t\t}\n\n\t\t\tconst commentStr = comment.sourceString ? `; //${comment.sourceString.substring(1)}` : \"\";\n\t\t\tconst semi = lineStr === \"\" || lineStr.endsWith(\"{\") || lineStr.endsWith(\"}\") || lineStr.startsWith(\"//\") || commentStr ? \"\" : \";\";\n\n\t\t\tconst indentStr = semanticsHelper.getIndentStr();\n\n\t\t\treturn indentStr + lineStr + commentStr + semi;\n\t\t},\n\n\t\tStatements(colons1: Node, stmt: Node, colons2: Node, stmts: Node) {\n\t\t\tif (colons1.children.length) { // are there leading colons?\n\t\t\t\tnotSupported(colons1);\n\t\t\t}\n\t\t\t// separate statements, use \";\", if the last stmt does not end with \"{\"\n\t\t\tif (colons2.child(0)?.children.length > 1) { // are there additional colons between statements?\n\t\t\t\tnotSupported(colons2.child(0)); // ok, let's mark all\n\t\t\t}\n\t\t\tconst statements = [stmt.eval(), ...evalChildren(stmts.children)];\n\n\t\t\treturn statements.reduce((acc, current) => acc.endsWith(\"{\") ? `${acc} ${current}` : `${acc}; ${current}`);\n\t\t},\n\n\t\tArrayAssign(ident: Node, _op: Node, e: Node): string {\n\t\t\treturn `${ident.eval()} = ${e.eval()}`;\n\t\t},\n\n\t\tAssign(ident: Node, _op: Node, e: Node): string {\n\t\t\tconst variableName = ident.eval();\n\t\t\tconst resolvedVariableName = semanticsHelper.getVariable(variableName);\n\t\t\tconst value = e.eval();\n\t\t\treturn `${resolvedVariableName} = ${value}`;\n\t\t},\n\n\t\tLoopBlockContent(separator: Node, stmts: Node) {\n\t\t\tconst separatorStr = separator?.child(0)?.eval() || \"\";\n\t\t\tconst lineStr = stmts.eval();\n\n\t\t\treturn `${separatorStr}${lineStr}`;\n\t\t},\n\n\t\tLoopBlockSeparator_colon(colons: Node) {\n\t\t\tif (colons.children.length > 1) { // are there additional colons between statements?\n\t\t\t\tnotSupported(colons); // ok, let's mark all\n\t\t\t}\n\t\t\treturn \"\";\n\t\t},\n\n\t\tLoopBlockSeparator_newline(comment: Node, eol: Node, _label: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\t// labels in blocks are ignored\n\t\t\tconst commentStr = comment.sourceString ? ` //${comment.sourceString.substring(1)}` : \"\";\n\t\t\tconst eolStr = eol.sourceString + semanticsHelper.getIndentStr();\n\t\t\treturn `${commentStr}${eolStr}`;\n\t\t},\n\n\t\tAbs(_absLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"abs\");\n\t\t\treturn `abs(${e.eval()})`; // or inline:`Math.abs(${e.eval()})`\n\t\t},\n\n\t\tAddressOf(op: Node, ident: Node) {\n\t\t\treturn notSupported(op, ident) + \"0\";\n\t\t},\n\n\t\tAfter(_afterLit: Node, e1: Node, _comma1: Node, e2: Node, _gosubLit: Node, label: Node) {\n\t\t\tsemanticsHelper.addInstr(\"after\");\n\t\t\tconst timeout = e1.eval();\n\t\t\tconst timer = e2.child(0)?.eval() || 0;\n\t\t\tconst labelString = label.sourceString;\n\t\t\tsemanticsHelper.addUsedLabel(labelString, \"gosub\");\n\t\t\treturn `after(${timeout}, ${timer}, _${labelString})`;\n\t\t},\n\n\t\tAsc(_ascLit: Node, _open: Node, str: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"asc\");\n\t\t\treturn `asc(${str.eval()})`;\n\t\t},\n\n\t\tAtn(_atnLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"atn\");\n\n\t\t\tif (!semanticsHelper.getDeg()) {\n\t\t\t\treturn `atn(${num.eval()})`;\n\t\t\t}\n\t\t\tsemanticsHelper.addInstr(\"toDeg\");\n\t\t\treturn `toDeg(atn(${num.eval()}))`;\n\t\t},\n\n\t\tAuto(lit: Node, label: Node, comma: Node, step: Node) {\n\t\t\treturn notSupported(lit, label, comma, step);\n\t\t},\n\n\t\tBinS(_binLit: Node, _open: Node, num: Node, _comma: Node, pad: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"bin$\");\n\t\t\treturn `bin$(${num.eval()}${evalOptionalArg(pad)})`;\n\t\t},\n\n\t\tBorder(lit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2);\n\t\t},\n\n\t\tCall(lit: Node, args: Node) {\n\t\t\tconst num = Number(args.asIteration().child(0).eval()); // only works for constants\n\t\t\tlet result = \"\";\n\t\t\tswitch (num) {\n\t\t\t\tcase 0xbb06: // fall through...\n\t\t\t\tcase 0xbb18:\n\t\t\t\t\tresult = `while (await inkey$() === \"\") {}`;\n\t\t\t\t\tsemanticsHelper.addInstr(\"inkey$\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0xbd19:\n\t\t\t\t\tresult = \"frame()\";\n\t\t\t\t\tsemanticsHelper.addInstr(\"frame\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn notSupported(lit, args.asIteration()) + result;\n\t\t},\n\n\t\tCat: notSupported,\n\n\t\tChain(lit: Node, merge: Node, file: Node, comma: Node, num: Node, comma2: Node, del: Node) {\n\t\t\treturn notSupported(lit, merge, file, comma, num, comma2, del);\n\t\t},\n\n\t\tChrS(_chrLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"chr$\");\n\t\t\treturn `chr$(${e.eval()})`;\n\t\t},\n\n\t\tCint(_cintLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"cint\");\n\t\t\treturn `cint(${e.eval()})`;\n\t\t},\n\n\t\tClear_clear: notSupported,\n\n\t\tClear_input(_lit: Node, _inputLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"clearInput\");\n\t\t\treturn \"clearInput()\";\n\t\t},\n\n\t\tClg(lit: Node, num: Node) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tClosein: notSupported,\n\n\t\tCloseout: notSupported,\n\n\t\tCls(_clsLit: Node, stream: Node) {\n\t\t\tsemanticsHelper.addInstr(\"cls\");\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\treturn `cls(${streamStr})`;\n\t\t},\n\n\t\tComment(_commentLit: Node, remain: Node) {\n\t\t\treturn `//${remain.sourceString}`;\n\t\t},\n\n\t\tCont: notSupported,\n\n\t\tCopychrS(lit: Node, open: Node, stream: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, stream, close) + '\" \"';\n\t\t},\n\n\t\tCos: cosSinTan,\n\n\t\tCreal(_lit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"creal\");\n\t\t\treturn `creal(${num.eval()})`;\n\t\t},\n\n\t\tCursor(lit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2);\n\t\t},\n\n\t\tData(_datalit: Node, args: Node) {\n\t\t\tconst argList = evalChildren(args.asIteration().children);\n\n\t\t\tconst definedLabels = semanticsHelper.getDefinedLabels();\n\n\t\t\tif (definedLabels.length) {\n\t\t\t\tconst currentLabel = definedLabels[definedLabels.length - 1];\n\t\t\t\tif (currentLabel.dataIndex === -1) {\n\t\t\t\t\tconst dataIndex = semanticsHelper.getDataIndex();\n\t\t\t\t\tcurrentLabel.dataIndex = dataIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst dataList = semanticsHelper.getDataList();\n\t\t\tdataList.push(argList.join(\", \"));\n\t\t\tsemanticsHelper.addDataIndex(argList.length);\n\t\t\treturn \"\";\n\t\t},\n\n\t\tDecS(_decLit: Node, _open: Node, num: Node, _comma: Node, format: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"dec$\");\n\t\t\treturn `dec$(${num.eval()}, ${format.eval()})`;\n\t\t},\n\n\t\tDef(_defLit: Node, _fnLit: Node, assign: Node) {\n\t\t\treturn `${assign.eval()}`;\n\t\t},\n\n\t\tDefArgs(_open: Node, arrayIdents: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst argList = evalChildren(arrayIdents.asIteration().children);\n\t\t\treturn `(${argList.join(\", \")})`;\n\t\t},\n\n\t\tDefAssign(ident: Node, args: Node, _equal: Node, e: Node) {\n\t\t\tsemanticsHelper.setDefContextStatus(\"start\"); // do not create global variables in this context\n\t\t\tconst name = ident.eval();\n\t\t\tsemanticsHelper.setDefContextStatus(\"collect\");\n\t\t\tconst argStr = evalChildren(args.children).join(\", \") || \"()\";\n\t\t\tsemanticsHelper.setDefContextStatus(\"use\");\n\t\t\tconst defBody = e.eval();\n\t\t\tsemanticsHelper.setDefContextStatus(\"\");\n\n\t\t\tconst fnIdent = semanticsHelper.getVariable(`fn${name}`);\n\t\t\treturn `${fnIdent} = ${argStr} => ${defBody}`;\n\t\t},\n\n\t\tDefint(_lit: Node, letterRange: Node) {\n\t\t\tconst lettersAndRanges = evalChildren(letterRange.asIteration().children); // a list of single letters \"a\" or range \"a-b\"\n\t\t\tconst letters = expandLetterRanges(lettersAndRanges);\n\t\t\tsemanticsHelper.setVarLetterTypes(letters, \"I\");\n\t\t\treturn `/* defint ${lettersAndRanges.join(\",\")} */`;\n\t\t},\n\n\t\tDefreal(lit: Node, letterRange: Node) {\n\t\t\treturn notSupported(lit, letterRange.asIteration());\n\t\t},\n\n\t\tDefstr(lit: Node, letterRange: Node) {\n\t\t\treturn notSupported(lit, letterRange.asIteration());\n\t\t},\n\n\t\tDeg(_degLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.setDeg(true);\n\t\t\treturn `/* deg */`; // we assume to check it at compile time\n\t\t},\n\n\t\tDelete(lit: Node, labelRange: Node) {\n\t\t\treturn notSupported(lit, labelRange);\n\t\t},\n\n\t\tDerr(lit: Node) {\n\t\t\treturn notSupported(lit) + \"0\";\n\t\t},\n\n\t\tDi: notSupported,\n\n\t\tDim(_dimLit: Node, dimArgs: Node) {\n\t\t\tconst argumentList: string[] = evalChildren(dimArgs.asIteration().children);\n\t\t\treturn argumentList.join(\"; \");\n\t\t},\n\n\t\tDraw: drawMovePlot,\n\n\t\tDrawr: drawMovePlot,\n\n\t\tEdit(lit: Node, label: Node) {\n\t\t\treturn notSupported(lit, label);\n\t\t},\n\n\t\tEi: notSupported,\n\n\t\tEnd(_endLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"end\");\n\t\t\treturn `return end()`;\n\t\t},\n\n\t\tEnt(lit: Node, nums: Node) { // TODO: separator\n\t\t\treturn notSupported(lit, nums.asIteration());\n\t\t},\n\n\t\tEnv(lit: Node, nums: Node) { // TODO: separator\n\t\t\treturn notSupported(lit, nums.asIteration());\n\t\t},\n\n\t\tEof(lit: Node) {\n\t\t\treturn notSupported(lit) + \"-1\";\n\t\t},\n\n\t\tErase(_eraseLit: Node, arrayIdents: Node) { // erase not really needed\n\t\t\tconst arrayIdentifiers: string[] = evalChildren(arrayIdents.asIteration().children);\n\t\t\tconst results: string[] = [];\n\n\t\t\tfor (const ident of arrayIdentifiers) {\n\t\t\t\tconst initValStr = ident.endsWith(\"$\") ? '\"\"' : '0';\n\t\t\t\tresults.push(`${ident} = ${initValStr}`);\n\t\t\t}\n\n\t\t\treturn results.join(\"; \");\n\t\t},\n\n\t\tErl(lit: Node) {\n\t\t\treturn notSupported(lit) + \"0\";\n\t\t},\n\n\t\tErr(lit: Node) {\n\t\t\treturn notSupported(lit) + \"0\";\n\t\t},\n\n\t\tError(_errorLit: Node, e: Node) {\n\t\t\treturn `throw new Error(${e.eval()})`;\n\t\t},\n\n\t\tEvery(_everyLit: Node, e1: Node, _comma1: Node, e2: Node, _gosubLit: Node, label: Node) {\n\t\t\tsemanticsHelper.addInstr(\"every\");\n\t\t\tconst timeout = e1.eval();\n\t\t\tconst timer = e2.child(0)?.eval() || 0;\n\t\t\tconst labelString = label.sourceString;\n\t\t\tsemanticsHelper.addUsedLabel(labelString, \"gosub\");\n\t\t\treturn `every(${timeout}, ${timer}, _${labelString})`;\n\t\t},\n\n\t\tExp(_expLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"exp\");\n\t\t\treturn `exp(${num.eval()})`;\n\t\t},\n\n\t\tFill(lit: Node, num: Node) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tFix(_fixLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"fix\");\n\t\t\treturn `fix(${num.eval()})`;\n\t\t},\n\n\t\tFre(lit: Node, open: Node, e: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, e, close) + \"0\";\n\t\t},\n\n\t\tAnyFnArgs(_open: Node, args: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst argumentList = evalChildren(args.asIteration().children);\n\t\t\treturn `(${argumentList.join(\", \")})`;\n\t\t},\n\n\n\t\tFnIdent(fnIdent: Node, args: Node) {\n\t\t\tconst argumentString = args.child(0)?.eval() || \"()\";\n\t\t\treturn `${fnIdent.eval()}${argumentString}`;\n\t\t},\n\n\t\tStrFnIdent(fnIdent: Node, args: Node) {\n\t\t\tconst argStr = args.child(0)?.eval() || \"()\";\n\t\t\treturn `${fnIdent.eval()}${argStr}`;\n\t\t},\n\n\t\tFor(_forLit: Node, variable: Node, _eqSign: Node, start: Node, _dirLit: Node, end: Node, _stepLit: Node, step: Node) {\n\t\t\tconst variableExpression = variable.eval();\n\t\t\tconst startExpression = start.eval();\n\t\t\tconst endExpression = end.eval();\n\t\t\tconst stepExpression = step.child(0)?.eval() || \"1\";\n\n\t\t\tconst stepAsNumber = Number(stepExpression);\n\n\t\t\tlet comparisonStatement = \"\";\n\t\t\tif (isNaN(stepAsNumber)) {\n\t\t\t\tcomparisonStatement = `${stepExpression} >= 0 ? ${variableExpression} <= ${endExpression} : ${variableExpression} >= ${endExpression}`;\n\t\t\t} else {\n\t\t\t\tcomparisonStatement = stepAsNumber >= 0 ? `${variableExpression} <= ${endExpression}` : `${variableExpression} >= ${endExpression}`;\n\t\t\t}\n\n\t\t\tsemanticsHelper.addIndent(2);\n\t\t\tconst result = `for (${variableExpression} = ${startExpression}; ${comparisonStatement}; ${variableExpression} += ${stepExpression}) {`;\n\n\t\t\treturn result;\n\t\t},\n\n\t\tForNextBlock: loopBlock,\n\n\t\tFrame(_frameLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"frame\");\n\t\t\treturn `await frame()`;\n\t\t},\n\n\t\tGosub(_gosubLit: Node, e: Node) {\n\t\t\tconst labelString = e.sourceString;\n\t\t\tsemanticsHelper.addUsedLabel(labelString, \"gosub\");\n\n\t\t\treturn `_${labelString}()`;\n\t\t},\n\n\t\tGoto(lit: Node, label: Node) {\n\t\t\treturn notSupported(lit, label);\n\t\t},\n\n\t\tGraphicsPaper(lit: Node, paperLit: Node, num: Node) {\n\t\t\treturn notSupported(lit, paperLit, num);\n\t\t},\n\n\t\tGraphicsPen(_graphicsLit: Node, _penLit: Node, num: Node, _comma: Node, mode: Node) {\n\t\t\tsemanticsHelper.addInstr(\"graphicsPen\");\n\t\t\tconst modeStr = mode.child(0) ? notSupported(mode.child(0)) : \"\";\n\t\t\treturn `graphicsPen(${num.eval()}${modeStr})`;\n\t\t},\n\n\t\tHexS(_hexLit: Node, _open: Node, num: Node, _comma: Node, pad: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"hex$\");\n\t\t\treturn `hex$(${num.eval()}${evalOptionalArg(pad)})`;\n\t\t},\n\n\t\tHimem(lit: Node) {\n\t\t\treturn notSupported(lit) + \"0\";\n\t\t},\n\n\t\tIfExp_label(label: Node) {\n\t\t\treturn notSupported(label);\n\t\t},\n\n\t\tIfThen_then(_thenLit: Node, thenStat: Node) {\n\t\t\tconst thenStatement = thenStat.eval();\n\t\t\treturn thenStatement;\n\t\t},\n\n\t\tIf(_iflit: Node, condExp: Node, thenStat: Node, colons: Node, elseLit: Node, elseStat: Node) {\n\t\t\tconst initialIndent = semanticsHelper.getIndentStr();\n\t\t\tsemanticsHelper.addIndent(2);\n\t\t\tconst increasedIndent = semanticsHelper.getIndentStr();\n\n\t\t\tconst condition = condExp.eval();\n\t\t\tconst thenStatement = addSemicolon(thenStat.eval());\n\n\t\t\tif (colons.child(0)?.children.length) { // are there colons before else?\n\t\t\t\tnotSupported(colons.child(0));\n\t\t\t}\n\n\t\t\tlet result = `if (${condition}) {\\n${increasedIndent}${thenStatement}\\n${initialIndent}}`; // put in newlines to also allow line comments\n\t\t\tif (elseLit.sourceString) {\n\t\t\t\tconst elseStatement = addSemicolon(evalChildren(elseStat.children).join('; '));\n\t\t\t\tresult += ` else {\\n${increasedIndent}${elseStatement}\\n${initialIndent}}`;\n\t\t\t}\n\n\t\t\tsemanticsHelper.addIndent(-2);\n\t\t\treturn result;\n\t\t},\n\n\t\tInk(_inkLit: Node, num: Node, _comma: Node, col: Node, _comma2: Node, col2: Node) {\n\t\t\tsemanticsHelper.addInstr(\"ink\");\n\t\t\tconst col2Str = col2.child(0) ? notSupported(col2.child(0)) : \"\";\n\t\t\treturn `ink(${num.eval()}, ${col.eval()}${col2Str})`;\n\t\t},\n\n\t\tInkey(lit: Node, open: Node, num: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, close) + \"0\";\n\t\t},\n\n\t\tInkeyS(_inkeySLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"inkey$\");\n\t\t\treturn `await inkey$()`;\n\t\t},\n\n\t\tInp(lit: Node, open: Node, num: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, close) + \"0\";\n\t\t},\n\n\t\tInput(_inputLit: Node, stream: Node, _comma: Node, _semi: Node, message: Node, _commaSemi: Node, ids: Node) {\n\t\t\tsemanticsHelper.addInstr(\"input\");\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\n\t\t\tconst messageString = message.sourceString.replace(/\\s*[;,]$/, \"\") || '\"\"';\n\t\t\tconst identifiers = evalChildren(ids.asIteration().children);\n\n\t\t\tconst identifierStr = `[${identifiers.join(\", \")}]`;\n\t\t\tconst typesStr = identifiers.map(id => id.includes(\"$\") ? \"s\" : \"n\").join(\"\");\n\t\t\treturn `${identifierStr} = (await input(${streamStr}${messageString}, \"${typesStr}\"))`;\n\t\t},\n\n\t\tInstr_noLen(_instrLit: Node, _open: Node, e1: Node, _comma: Node, e2: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"instr\");\n\t\t\treturn `instr(${e1.eval()}, ${e2.eval()})`;\n\t\t},\n\n\t\tInstr_len(_instrLit: Node, _open: Node, len: Node, _comma1: Node, e1: Node, _comma2: Node, e2: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"instr\");\n\t\t\treturn `instr(${e1.eval()}, ${e2.eval()}, ${len.eval()})`;\n\t\t},\n\n\t\tInt(_intLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"int\");\n\t\t\treturn `int(${num.eval()})`;\n\t\t},\n\n\t\tJoy(lit: Node, open: Node, num: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, close) + \"0\";\n\t\t},\n\n\t\tKey_key(lit: Node, num: Node, comma: Node, str: Node) {\n\t\t\treturn notSupported(lit, num, comma, str);\n\t\t},\n\n\t\tKey_def(lit: Node, defLit: Node, num: Node, comma: Node, repeat: Node, comma2: Node, codes: Node) {\n\t\t\t//const codesIteration = codes.child(0) ? codes.child(0).asIteration() : undefined;\n\t\t\tif (num.eval() === \"78\" && repeat.eval() === \"1\") {\n\t\t\t\tconst codeList = codes.child(0) ? evalChildren(codes.child(0).asIteration().children) : undefined;\n\t\t\t\tconst codeListStr = codeList ? `, ${codeList.join(\", \")}` : \"\";\n\t\t\t\tsemanticsHelper.addInstr(\"keyDef\");\n\t\t\t\treturn `keyDef(${num.eval()}, ${repeat.eval()}${codeListStr})`;\n\t\t\t}\n\t\t\treturn notSupported(lit, defLit, num, comma, repeat, comma2, codes.child(0) ? codes.child(0).asIteration() : codes);\n\t\t},\n\n\t\tLeftS(_leftLit: Node, _open: Node, pos: Node, _comma: Node, len: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"left$\");\n\t\t\treturn `left$(${pos.eval()}, ${len.eval()})`;\n\t\t},\n\n\t\tLen(_lenLit: Node, _open: Node, str: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"len\");\n\t\t\treturn `len(${str.eval()})`;\n\t\t},\n\n\t\tLet(_letLit: Node, assign: Node) {\n\t\t\treturn `${assign.eval()}`;\n\t\t},\n\n\t\tLineInput(_lit: Node, _inputLit: Node, stream: Node, _comma: Node, message: Node, _semi: Node, id: Node) {\n\t\t\tsemanticsHelper.addInstr(\"lineInput\");\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tconst messageString = message.sourceString.replace(/\\s*[;,]$/, \"\") || '\"\"';\n\t\t\tconst identifier = id.eval();\n\t\t\treturn `${identifier} = await lineInput(${streamStr}${messageString})`;\n\t\t},\n\n\t\tList(lit: Node, labelRange: Node, comma: Node, stream: Node) {\n\t\t\treturn notSupported(lit, labelRange, comma, stream);\n\t\t},\n\n\t\tLoad(lit: Node, file: Node, comma: Node, address: Node) {\n\t\t\treturn notSupported(lit, file, comma, address);\n\t\t},\n\n\t\tLocate(lit: Node, stream: Node, comma: Node, x: Node, comma2: Node, y: Node) {\n\t\t\treturn notSupported(lit, stream, comma, x, comma2, y);\n\t\t},\n\n\t\tLog(_logLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"log\");\n\t\t\treturn `log(${num.eval()})`;\n\t\t},\n\n\t\tLog10(_log10Lit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"log10\");\n\t\t\treturn `log10(${num.eval()})`;\n\t\t},\n\n\t\tLowerS(_lowerLit: Node, _open: Node, str: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"lower$\");\n\t\t\treturn `lower$(${str.eval()})`;\n\t\t},\n\n\t\tMask(lit: Node, num: Node, comma: Node, num2: Node, comma2: Node, num3: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2, comma2, num3);\n\t\t},\n\n\t\tMax(_maxLit: Node, _open: Node, args: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"max\");\n\t\t\treturn `max(${evalChildren(args.asIteration().children)})`;\n\t\t},\n\n\t\tMemory(lit: Node, num: Node) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tMerge(lit: Node, file: Node) {\n\t\t\treturn notSupported(lit, file);\n\t\t},\n\n\t\tMidS(_midLit: Node, _open: Node, str: Node, _comma1: Node, start: Node, _comma2: Node, len: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"mid$\");\n\t\t\treturn `mid$(${str.eval()}, ${start.eval()}${evalOptionalArg(len)})`;\n\t\t},\n\n\t\tMidSAssign(_midLit: Node, _open: Node, ident: Node, _comma1: Node, start: Node, _comma2: Node, len: Node, _close: Node, _op: Node, newStr: Node) {\n\t\t\tsemanticsHelper.addInstr(\"mid$Assign\");\n\t\t\tconst variableName = ident.eval();\n\t\t\treturn `${variableName} = mid$Assign(${variableName}, ${start.eval()}, ${newStr.eval()}${evalOptionalArg(len)})`;\n\t\t},\n\n\t\tMin(_minLit: Node, _open: Node, args: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"min\");\n\t\t\treturn `min(${evalChildren(args.asIteration().children)})`;\n\t\t},\n\n\t\tMode(_modeLit: Node, num: Node) {\n\t\t\tsemanticsHelper.addInstr(\"mode\");\n\t\t\treturn `mode(${num.eval()})`;\n\t\t},\n\n\t\tMove: drawMovePlot,\n\n\t\tMover: drawMovePlot,\n\n\t\tNew: notSupported,\n\n\t\tNext(_nextLit: Node, _variable: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\t// we cannot parse NEXT with multiple variables, if we want to match FOR and NEXT\n\t\t\tsemanticsHelper.addIndent(-2);\n\t\t\treturn `}`;\n\t\t},\n\n\t\tOn_numGosub(_onLit: Node, e1: Node, _gosubLit: Node, args: Node) {\n\t\t\tconst index = e1.eval();\n\t\t\tconst argumentList = args.asIteration().children.map(child => child.sourceString);\n\n\t\t\tfor (let i = 0; i < argumentList.length; i += 1) {\n\t\t\t\tconst labelString = argumentList[i];\n\t\t\t\tsemanticsHelper.addUsedLabel(labelString, \"gosub\");\n\t\t\t}\n\n\t\t\treturn `([${argumentList.map((label) => `_${label}`).join(\",\")}]?.[${index} - 1] || (() => undefined))()`; // 1-based index\n\t\t},\n\n\t\tOn_numGoto(_lit: Node, _num: Node, gotoLit: Node, labels: Node) {\n\t\t\treturn notSupported(gotoLit, labels.asIteration());\n\t\t},\n\n\t\tOn_breakCont(lit: Node, breakLit: Node, contLit: Node) {\n\t\t\treturn notSupported(lit, breakLit, contLit);\n\t\t},\n\n\t\tOn_breakGosub(lit: Node, breakLit: Node, gosubLit: Node, label: Node) {\n\t\t\treturn notSupported(lit, breakLit, gosubLit, label);\n\t\t},\n\n\t\tOn_breakStop(lit: Node, breakLit: Node, stopLit: Node) {\n\t\t\treturn notSupported(lit, breakLit, stopLit);\n\t\t},\n\n\t\tOn_errorGoto(lit: Node, errorLit: Node, gotoLit: Node, label: Node) {\n\t\t\treturn notSupported(lit, errorLit, gotoLit, label);\n\t\t},\n\n\t\tOpenin(lit: Node, file: Node) {\n\t\t\treturn notSupported(lit, file);\n\t\t},\n\n\t\tOpenout(lit: Node, file: Node) {\n\t\t\treturn notSupported(lit, file);\n\t\t},\n\n\t\tOrigin(_originLit: Node, x: Node, _comma: Node, y: Node, _comma2: Node, win: Node,) {\n\t\t\tsemanticsHelper.addInstr(\"origin\");\n\t\t\tconst winStr = win.child(0) ? notSupported(win.child(0)) : \"\";\n\t\t\treturn `origin(${x.eval()}, ${y.eval()}${winStr})`;\n\t\t},\n\n\t\tOut(lit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2);\n\t\t},\n\n\t\tPaper(_paperLit: Node, stream: Node, _comma: Node, e: Node) {\n\t\t\tsemanticsHelper.addInstr(\"paper\");\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\treturn `paper(${streamStr}${e.eval()})`;\n\t\t},\n\n\t\tPeek(lit: Node, open: Node, num: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, close) + \"0\";\n\t\t},\n\n\t\tPen(_penLit: Node, stream: Node, _comma: Node, e: Node, _comma2: Node, e2: Node) {\n\t\t\tsemanticsHelper.addInstr(\"pen\");\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tconst modeStr = e2.child(0) ? notSupported(e2.child(0)) : \"\";\n\t\t\treturn `pen(${streamStr}${e.eval()}${modeStr})`;\n\t\t},\n\n\t\tPi(_piLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"pi\");\n\t\t\treturn `pi`;\n\t\t},\n\n\t\tPlot: drawMovePlot,\n\n\t\tPlotr: drawMovePlot,\n\n\t\tPoke(lit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2);\n\t\t},\n\n\t\tPos(lit: Node, open: Node, streamLit: Node, num: Node, close: Node) {\n\t\t\tif (num.eval() !== \"0\") {\n\t\t\t\treturn notSupported(lit, open, streamLit, num, close) + \"0\";\n\t\t\t}\n\t\t\tsemanticsHelper.addInstr(\"pos\");\n\t\t\treturn \"pos()\";\n\t\t},\n\n\t\tPrintArg_strCmp(_cmp: Node, args: Node) {\n\t\t\tconst parameterString = args.children[0].eval();\n\t\t\treturn parameterString;\n\t\t},\n\n\t\tPrintArg_usingNum(_printLit: Node, format: Node, _semi: Node, numArgs: Node) {\n\t\t\tsemanticsHelper.addInstr(\"using\");\n\t\t\tconst formatString = format.eval();\n\t\t\tconst argumentList = evalChildren(numArgs.asIteration().children);\n\t\t\tconst parameterString = argumentList.join(', ');\n\t\t\treturn `using(${formatString}, ${parameterString})`;\n\t\t},\n\n\t\tPrintArg_commaOp(_comma: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\treturn `\"${CommaOpChar}\"`; // Unicode arrow right\n\t\t},\n\n\t\tStreamArg(streamLit: Node, stream: Node) {\n\t\t\treturn notSupported(streamLit, stream) + \"\";\n\t\t},\n\n\t\tPrint(_printLit: Node, stream: Node, _comma: Node, args: Node, semi: Node) {\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tconst argumentList = evalChildren(args.asIteration().children);\n\t\t\tconst parameterString = argumentList.join(', ') || \"\";\n\n\t\t\tconst tag = semanticsHelper.getTag();\n\t\t\tconst hasCommaOrTab = parameterString.includes(`\"${CommaOpChar}`) || parameterString.includes(`\"${TabOpChar}`);\n\t\t\tconst printInstr = (hasCommaOrTab ? \"printTab\" : \"print\") + (tag ? \"Tag\" : \"\");\n\n\t\t\tsemanticsHelper.addInstr(printInstr);\n\n\t\t\tlet newlineString = \"\";\n\t\t\tif (!semi.sourceString) {\n\t\t\t\tnewlineString = parameterString ? `, \"\\\\n\"` : `\"\\\\n\"`;\n\t\t\t}\n\t\t\treturn `${printInstr}(${streamStr}${parameterString}${newlineString})`;\n\t\t},\n\n\t\tRad(_radLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.setDeg(false);\n\t\t\treturn `/* rad */`; // we assume to check it at compile time\n\t\t},\n\n\t\tRandomize(lit: Node, num: Node) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tRead(_readlit: Node, args: Node) {\n\t\t\tsemanticsHelper.addInstr(\"read\");\n\t\t\tconst argumentList = evalChildren(args.asIteration().children);\n\t\t\tconst results = argumentList.map(identifier => `${identifier} = read()`);\n\t\t\treturn results.join(\"; \");\n\t\t},\n\n\t\tRelease(lit: Node, num: Node) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tRem(_remLit: Node, remain: Node) {\n\t\t\treturn `// ${remain.sourceString}`;\n\t\t},\n\n\t\tRemain(_remainLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"remain\");\n\t\t\treturn `remain(${e.eval()})`;\n\t\t},\n\n\t\tRenum(lit: Node, num: Node, comma: Node, num2: Node, comma2: Node, num3: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2, comma2, num3);\n\t\t},\n\n\t\tRestore(_restoreLit: Node, e: Node) {\n\t\t\tconst labelString = e.sourceString || \"0\";\n\t\t\tsemanticsHelper.addRestoreLabel(labelString);\n\t\t\tsemanticsHelper.addUsedLabel(labelString, \"restore\");\n\n\t\t\tsemanticsHelper.addInstr(\"restore\");\n\t\t\treturn `restore(${labelString})`;\n\t\t},\n\n\t\tResume(lit: Node, labelOrNext: Node) {\n\t\t\treturn notSupported(lit, labelOrNext);\n\t\t},\n\n\t\tReturn(_returnLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\treturn \"return\";\n\t\t},\n\n\t\tRightS(_rightLit: Node, _open: Node, str: Node, _comma: Node, len: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"right$\");\n\t\t\treturn `right$(${str.eval()}, ${len.eval()})`;\n\t\t},\n\n\t\tRnd(_rndLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"rnd\");\n\t\t\tconst arg = e.child(0)?.eval() ?? \"\"; // we ignore arg, but...\n\t\t\treturn `rnd(${arg})`;\n\t\t},\n\n\t\tRound(_roundLit: Node, _open: Node, num: Node, _comma: Node, decimals: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst decimalPlaces = evalOptionalArg(decimals);\n\t\t\tif (decimalPlaces) {\n\t\t\t\tsemanticsHelper.addInstr(\"round\");\n\t\t\t\treturn `round(${num.eval()}${decimalPlaces})`;\n\t\t\t}\n\t\t\tsemanticsHelper.addInstr(\"round1\");\n\t\t\treturn `round1(${num.eval()})`;\n\t\t\t// A better way to avoid rounding errors: https://www.jacklmoore.com/notes/rounding-in-javascript\n\t\t},\n\n\t\tRsx(_rsxLit: Node, cmd: Node, e: Node) {\n\t\t\tconst cmdString = adaptIdentName(cmd.sourceString).toLowerCase();\n\t\t\tconst rsxArgs: string = e.child(0)?.eval() || \"\";\n\n\t\t\tconst knownRsx = [\"arc\", \"circle\", \"date\", \"ellipse\", \"geolocation\", \"pitch\", \"rect\", \"say\", \"time\"];\n\n\t\t\tif (!knownRsx.includes(cmdString)) {\n\t\t\t\treturn notSupported(_rsxLit, cmd, e);\n\t\t\t}\n\n\t\t\tconst rsxCall = \"rsx\" + stringCapitalize(cmdString);\n\t\t\tsemanticsHelper.addInstr(rsxCall);\n\n\t\t\tconst asyncStr = [\"geolocation\", \"say\"].includes(cmdString) ? \"await \" : \"\";\n\n\t\t\tif (rsxArgs === \"\") {\n\t\t\t\treturn `${asyncStr}${rsxCall}(${rsxArgs})`;\n\t\t\t}\n\t\t\t// need assign, not so nice to use <RSXFUNCTION>\" as separator\n\t\t\treturn rsxArgs.replace(\"<RSXFUNCTION>\", `${asyncStr}${rsxCall}(`) + \")\";\n\t\t},\n\n\t\tRsxAddressOf(_adressOfLit: Node, ident: Node) {\n\t\t\tconst identString = ident.eval().toLowerCase();\n\t\t\treturn `@${identString}`;\n\t\t},\n\n\t\tRsxArgs(_comma: Node, args: Node) {\n\t\t\tconst argumentList = evalChildren(args.asIteration().children);\n\n\t\t\t// Remove \"@\" prefix from arguments\n\t\t\tconst argumentListNoAddr = argumentList.map(arg =>\n\t\t\t\targ.startsWith(\"@\") ? arg.substring(1) : arg\n\t\t\t);\n\n\t\t\t// Extract assignments and remove \"@\" prefix\n\t\t\tconst assignList = argumentList.map(arg => arg.startsWith(\"@\") ? arg.substring(1) : undefined);\n\n\t\t\t// Remove trailing undefined values\n\t\t\twhile (assignList.length && assignList[assignList.length - 1] === undefined) {\n\t\t\t\tassignList.pop();\n\t\t\t}\n\n\t\t\t// Build the result string\n\t\t\tconst assignments = assignList.length ? `[${assignList.join(\", \")}] = ` : \"\";\n\t\t\t//const result = `${assignments}<RSXFUNCTION>, ${argumentListNoAddr.join(\", \")}`;\n\t\t\tconst result = `${assignments}<RSXFUNCTION>${argumentListNoAddr.join(\", \")}`;\n\n\t\t\treturn result;\n\t\t},\n\n\t\tRun(lit: Node, labelOrFileOrNoting: Node) {\n\t\t\treturn notSupported(lit, labelOrFileOrNoting);\n\t\t},\n\n\t\tSave(lit: Node, file: Node, comma: Node, type: Node, comma2: Node, num: Node, comma3: Node, num2: Node, comma4: Node, num3: Node) {\n\t\t\treturn notSupported(lit, file, comma, type, comma2, num, comma3, num2, comma4, num3);\n\t\t},\n\n\t\tSgn(_sgnLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"sgn\");\n\t\t\treturn `sgn(${num.eval()})`;\n\t\t},\n\n\t\tSin: cosSinTan,\n\n\t\tSound(lit: Node, state: Node, comma: Node, period: Node, comma2: Node, args: Node) {\n\t\t\treturn notSupported(lit, state, comma, period, comma2, args);\n\t\t},\n\n\t\tSpaceS(_stringLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"space$\");\n\t\t\treturn `space$(${num.eval()})`;\n\t\t},\n\n\t\tSpc(_lit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"spc\");\n\t\t\treturn `spc(${num.eval()})`;\n\t\t},\n\n\t\tSpeed_ink(lit: Node, inkLit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, inkLit, num, comma, num2);\n\t\t},\n\n\t\tSpeed_key(lit: Node, keyLit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, keyLit, num, comma, num2);\n\t\t},\n\n\t\tSpeed_write(lit: Node, writeLit: Node, num: Node) {\n\t\t\treturn notSupported(lit, writeLit, num);\n\t\t},\n\n\t\tSq(lit: Node, open: Node, num: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, close) + \"0\";\n\t\t},\n\n\t\tSqr(_sqrLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"sqr\");\n\t\t\treturn `sqr(${num.eval()})`;\n\t\t},\n\n\t\tStop(_stopLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"stop\");\n\t\t\treturn `return stop()`;\n\t\t},\n\n\t\tStrS(_strLit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"str$\");\n\t\t\treturn `str$(${num.eval()})`;\n\t\t},\n\n\t\tStringS_str(_stringLit: Node, _open: Node, len: Node, _commaLit: Node, chr: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\t// Note: we do not use charAt(0) to get just one char\n\t\t\tsemanticsHelper.addInstr(\"string$Str\");\n\t\t\treturn `string$Str(${len.eval()}, ${chr.eval()})`;\n\t\t},\n\n\t\tStringS_num(_stringLit: Node, _open: Node, len: Node, _commaLit: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"string$Num\");\n\t\t\treturn `string$Num(${len.eval()}, ${num.eval()})`;\n\t\t},\n\n\t\tSymbol_def(lit: Node, args: Node) {\n\t\t\treturn notSupported(lit, args.asIteration());\n\t\t},\n\n\t\tSymbol_after(lit: Node, afterLit: Node, num: Node) {\n\t\t\treturn notSupported(lit, afterLit, num);\n\t\t},\n\n\t\tTab(_lit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\treturn `\"${TabOpChar}\" + String(${num.eval()})`; // Unicode double arrow right\n\t\t},\n\n\t\tTag(lit: Node, stream: Node) {\n\t\t\t//semanticsHelper.addInstr(\"tag\");\n\t\t\tsemanticsHelper.setTag(true);\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tif (streamStr) {\n\t\t\t\treturn notSupported(lit, stream);\n\t\t\t}\n\t\t\treturn `/* tag */`; // we assume to check it at compile time\n\t\t\t//return `tag(${streamStr})`;\n\t\t},\n\n\t\tTagoff(lit: Node, stream: Node) {\n\t\t\t//semanticsHelper.addInstr(\"tagoff\");\n\t\t\tsemanticsHelper.setTag(false);\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tif (streamStr) {\n\t\t\t\treturn notSupported(lit, stream);\n\t\t\t}\n\t\t\treturn `/* tagoff */`; // we assume to check it at compile time\n\t\t\t//eturn `tagoff(${streamStr})`;\n\t\t},\n\n\t\tTan: cosSinTan,\n\n\t\tTest(lit: Node, open: Node, num: Node, comma: Node, num2: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, comma, num2, close) + \"0\";\n\t\t},\n\n\t\tTestr(lit: Node, open: Node, num: Node, comma: Node, num2: Node, close: Node) {\n\t\t\treturn notSupported(lit, open, num, comma, num2, close) + \"0\";\n\t\t},\n\n\t\tTime(_timeLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"time\");\n\t\t\treturn `time()`;\n\t\t},\n\n\t\tTroff: notSupported,\n\n\t\tTron: notSupported,\n\n\t\tUnt(_lit: Node, _open: Node, num: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"unt\");\n\t\t\treturn `unt(${num.eval()})`;\n\t\t},\n\n\t\tUpperS(_upperLit: Node, _open: Node, str: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"upper$\");\n\t\t\treturn `upper$(${str.eval()})`;\n\t\t},\n\n\t\tVal(_upperLit: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst numPattern = /^\"[\\\\+\\\\-]?\\d*\\.?\\d+(?:[Ee][\\\\+\\\\-]?\\d+)?\"$/;\n\t\t\tconst numStr = String(e.eval());\n\n\t\t\tif (numPattern.test(numStr)) { // for non-hex/bin number strings we can use this simple version\n\t\t\t\tsemanticsHelper.addInstr(\"val1\");\n\t\t\t\treturn `val1(${numStr})`;\n\t\t\t}\n\t\t\tsemanticsHelper.addInstr(\"val\");\n\t\t\treturn `val(${numStr})`;\n\t\t},\n\n\t\tVpos(lit: Node, open: Node, streamLit: Node, num: Node, close: Node) {\n\t\t\tif (num.eval() !== \"0\") {\n\t\t\t\treturn notSupported(lit, open, streamLit, num, close) + \"0\";\n\t\t\t}\n\t\t\tsemanticsHelper.addInstr(\"vpos\");\n\t\t\treturn \"vpos()\";\n\t\t},\n\n\t\tWait(lit: Node, num: Node, comma: Node, num2: Node, comma2: Node, num3: Node) {\n\t\t\treturn notSupported(lit, num, comma, num2, comma2, num3);\n\t\t},\n\n\t\tWend(_wendLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addIndent(-2);\n\t\t\treturn '}';\n\t\t},\n\n\t\tWhile(_whileLit: Node, e: Node) {\n\t\t\tconst cond = e.eval();\n\t\t\tsemanticsHelper.addIndent(2);\n\t\t\treturn `while (${cond}) {`;\n\t\t},\n\n\t\tWhileWendBlock: loopBlock,\n\n\t\tWidth(lit: Node, num: Node,) {\n\t\t\treturn notSupported(lit, num);\n\t\t},\n\n\t\tWindow_def(lit: Node, stream: Node, comma0: Node, num: Node, comma: Node, num2: Node, comma2: Node, num3: Node, comma3: Node, num4: Node) {\n\t\t\treturn notSupported(lit, stream, comma0, num, comma, num2, comma2, num3, comma3, num4);\n\t\t},\n\n\t\tWindow_swap(lit: Node, swapLit: Node, num: Node, comma: Node, num2: Node) {\n\t\t\treturn notSupported(lit, swapLit, num, comma, num2);\n\t\t},\n\n\t\tWrite(_printLit: Node, stream: Node, _comma: Node, args: Node) {\n\t\t\tconst writeInst = semanticsHelper.getTag() ? \"writeTag\" : \"write\";\n\t\t\tsemanticsHelper.addInstr(writeInst);\n\t\t\tconst streamStr = stream.child(0)?.eval() || \"\";\n\t\t\tconst parameterString = evalChildren(args.asIteration().children).join(', ');\n\t\t\treturn `${writeInst}(${streamStr}${parameterString})`;\n\t\t},\n\n\t\tXpos(_xposLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"xpos\");\n\t\t\treturn `xpos()`;\n\t\t},\n\n\t\tYpos(_xposLit: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tsemanticsHelper.addInstr(\"ypos\");\n\t\t\treturn `ypos()`;\n\t\t},\n\n\t\tZone(_lit: Node, num: Node) {\n\t\t\tsemanticsHelper.addInstr(\"zone\");\n\t\t\treturn `zone(${num.eval()})`;\n\t\t},\n\n\t\tAndExp_and(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} & ${b.eval()}`;\n\t\t},\n\n\t\tNotExp_not(_op: Node, e: Node) {\n\t\t\treturn `~(${e.eval()})`;\n\t\t},\n\n\t\tOrExp_or(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} | ${b.eval()}`;\n\t\t},\n\n\t\tXorExp_xor(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} ^ ${b.eval()}`;\n\t\t},\n\n\n\t\tAddExp_minus(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} - ${b.eval()}`;\n\t\t},\n\t\tAddExp_plus(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} + ${b.eval()}`;\n\t\t},\n\n\t\tCmpExp_eq(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \"===\", b);\n\t\t},\n\t\tCmpExp_ge(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \">=\", b);\n\t\t},\n\t\tCmpExp_gt(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \">\", b);\n\t\t},\n\t\tCmpExp_le(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \"<=\", b);\n\t\t},\n\t\tCmpExp_lt(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \"<\", b);\n\t\t},\n\t\tCmpExp_ne(a: Node, _op: Node, b: Node) {\n\t\t\treturn createComparisonExpression(a, \"!==\", b);\n\t\t},\n\n\t\tDivExp_div(a: Node, _op: Node, b: Node) {\n\t\t\treturn `((${a.eval()} / ${b.eval()}) | 0)`;\n\t\t},\n\n\t\tExpExp_power(a: Node, _: Node, b: Node) {\n\t\t\treturn `Math.pow(${a.eval()}, ${b.eval()})`;\n\t\t},\n\n\t\tModExp_mod(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} % ${b.eval()}`;\n\t\t},\n\n\t\tMulExp_divide(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} / ${b.eval()}`;\n\t\t},\n\n\t\tMulExp_times(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} * ${b.eval()}`;\n\t\t},\n\n\t\tPriExp_neg(_op: Node, e: Node) {\n\t\t\treturn `-${e.eval()}`;\n\t\t},\n\t\tPriExp_paren(_open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\treturn `(${e.eval()})`;\n\t\t},\n\t\tPriExp_pos(_op: Node, e: Node) {\n\t\t\treturn `+${e.eval()}`;\n\t\t},\n\n\t\tStrAddExp_plus(a: Node, _op: Node, b: Node) {\n\t\t\treturn `${a.eval()} + ${b.eval()}`;\n\t\t},\n\t\tStrCmpExp_eq(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} === ${b.eval()})`;\n\t\t},\n\t\tStrCmpExp_ge(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} >= ${b.eval()})`;\n\t\t},\n\t\tStrCmpExp_gt(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} > ${b.eval()})`;\n\t\t},\n\t\tStrCmpExp_le(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} <= ${b.eval()})`;\n\t\t},\n\t\tStrCmpExp_lt(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} < ${b.eval()})`;\n\t\t},\n\t\tStrCmpExp_ne(a: Node, _op: Node, b: Node) {\n\t\t\treturn `-(${a.eval()} !== ${b.eval()})`;\n\t\t},\n\n\t\tStrPriExp_paren(_open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\treturn `(${e.eval()})`;\n\t\t},\n\n\t\tArrayArgs(args: Node) {\n\t\t\treturn evalChildren(args.asIteration().children).join(\"][\");\n\t\t},\n\n\t\tArrayIdent(ident: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst name = semanticsHelper.getVariable(ident.eval(), \"A\");\n\t\t\treturn `${name}[${e.eval()}]`;\n\t\t},\n\n\t\tDimArrayArgs(args: Node) {\n\t\t\treturn evalChildren(args.asIteration().children).join(\", \");\n\t\t},\n\n\t\tDimArrayIdent(ident: Node, _open: Node, indices: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst identStr = semanticsHelper.getVariable(ident.eval(), \"A\");\n\t\t\tconst indicesStr = indices.eval();\n\t\t\tconst isMultiDimensional = indicesStr.includes(\",\"); // also for expressions containing comma\n\t\t\tconst isStringIdent = identStr.endsWith(\"$\");\n\t\t\tconst valueStr = isStringIdent ? ', \"\"' : \"\";\n\t\t\tconst indicesStr2 = isMultiDimensional ? `[${indicesStr}]` : indicesStr;\n\n\t\t\tlet instr = \"\";\n\t\t\tif (isMultiDimensional) {\n\t\t\t\tinstr = \"dim\";\n\t\t\t} else if (!isStringIdent && semanticsHelper.getVarType(identStr) === \"I\") { // defint seen?\n\t\t\t\tinstr = \"dim1i16\";\n\t\t\t} else {\n\t\t\t\tinstr = \"dim1\";\n\t\t\t}\n\n\t\t\tsemanticsHelper.addInstr(instr);\n\t\t\treturn `${identStr} = ${instr}(${indicesStr2}${valueStr})`;\n\t\t},\n\n\t\tStrArrayIdent(ident: Node, _open: Node, e: Node, _close: Node) { // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\tconst name = semanticsHelper.getVariable(ident.eval(), \"A\");\n\t\t\treturn `${name}[${e.eval()}]`;\n\t\t},\n\n\t\tEraseIdent(ident: Node) {\n\t\t\tconst name = semanticsHelper.getVariable(ident.eval(), \"A\"); // for erase we have arrayvariables but withoutt indices\n\t\t\treturn name;\n\t\t},\n\n\t\tCondExp(e: Node) {\n\t\t\treturn e.eval().replace(/^-?(\\(.*\\))$/, '$1'); // remove \"-\" in top-level condition\n\t\t},\n\n\t\tdataUnquoted(data: Node) {\n\t\t\tconst str = data.sourceString;\n\t\t\tif (!isNaN(Number(str))) {\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\treturn notSupported(data) + `\"${str}\"`;\n\t\t},\n\n\t\tdecimalValue(value: Node) {\n\t\t\tconst valueStr = value.sourceString.replace(/^(-?)(0+)(\\d)/, \"$1$3\"); // avoid octal numbers: remove leading zeros, but keep sign\n\t\t\tif (valueStr !== value.sourceString) {\n\t\t\t\tnotSupported(value);\n\t\t\t}\n\t\t\treturn valueStr;\n\t\t},\n\n\t\thexValue(_prefix: Node, value: Node) {\n\t\t\treturn `0x${value.sourceString}`;\n\t\t},\n\n\t\tbinaryValue(_prefix: Node, value: Node) {\n\t\t\treturn `0b${value.sourceString}`;\n\t\t},\n\n\t\tstring(_quote1: Node, e: Node, quote2: Node) {\n\t\t\tconst str = e.sourceString.replace(/\\\\/g, \"\\\\\\\\\"); // escape backslashes\n\t\t\tconst varStr = quote2.sourceString !== '\"' ? notSupported(quote2).replace(\"\\n\", \"eol\") : \"\";\n\t\t\treturn `\"${str}\"${varStr}`;\n\t\t},\n\n\t\tPlainIdent(ident: Node) {\n\t\t\tconst name = ident.eval();\n\t\t\treturn semanticsHelper.getVariable(name);\n\t\t},\n\n\t\tStrPlainIdent(ident: Node) {\n\t\t\tconst name = ident.eval();\n\t\t\treturn semanticsHelper.getVariable(name);\n\t\t},\n\n\t\tident(ident: Node, suffix: Node) {\n\t\t\tconst name = adaptIdentName(ident.sourceString);\n\t\t\tconst suffixStr = suffix.child(0)?.sourceString;\n\t\t\tif (suffixStr !== undefined) { // real or integer suffix\n\t\t\t\treturn name + notSupported(suffix);\n\t\t\t}\n\t\t\treturn name; //semanticsHelper.getVariable(name);\n\t\t},\n\n\t\tfnIdent(fn: Node, _space: Node, ident: Node, suffix: Node) {\n\t\t\tconst name = fn.sourceString + adaptIdentName(ident.sourceString);\n\t\t\tconst suffixStr = suffix.child(0)?.sourceString;\n\t\t\tif (suffixStr !== undefined) { // real or integer suffix\n\t\t\t\treturn semanticsHelper.getVariable(name) + notSupported(suffix);\n\t\t\t}\n\t\t\treturn semanticsHelper.getVariable(name);\n\t\t},\n\n\t\tstrIdent(ident: Node, typeSuffix: Node) {\n\t\t\tconst name = adaptIdentName(ident.sourceString) + typeSuffix.sourceString;\n\t\t\treturn name; //semanticsHelper.getVariable(name);\n\t\t},\n\n\t\tstrFnIdent(fn: Node, _space: Node, ident: Node, typeSuffix: Node) {\n\t\t\tconst name = fn.sourceString + adaptIdentName(ident.sourceString) + typeSuffix.sourceString;\n\t\t\treturn semanticsHelper.getVariable(name);\n\t\t}\n\t};\n\treturn semantics;\n}\n\nexport class Semantics implements ISemantics {\n\tprivate readonly helper: SemanticsHelper;\n\n\tconstructor() {\n\t\tthis.helper = new SemanticsHelper();\n\t}\n\n\tpublic resetParser(): void {\n\t\tthis.helper.resetParser();\n\t}\n\n\tpublic getUsedLabels(): Record<string, Record<string, UsedLabelEntryType>> {\n\t\treturn this.helper.getUsedLabels();\n\t}\n\n\tpublic getSemanticsActions() {\n\t\treturn getSemanticsActions(this.helper);\n\t}\n\n\tpublic getSemanticsActionDict(): ActionDict<string> {\n\t\treturn this.getSemanticsActions() as ActionDict<string>;\n\t}\n\n\tpublic getHelper(): SemanticsHelper {\n\t\treturn this.helper;\n\t}\n}\n","// Script creator for standalone scripts (complied script + worker function)\n\nimport { MessageFromWorker, MessageToWorker, NodeWorkerFnType, NodeWorkerThreadsType, VMObject } from \"./Interfaces\";\n\nexport class ScriptCreator {\n    private debug: number;\n\n    constructor(debug: number) {\n        this.debug = debug;\n    }\n\n    // Build dependency map by analyzing vm properties\n    analyzeDependencies(vmObj: VMObject): Record<string, string[]> {\n        const depMap: Record<string, string[]> = {};\n\n        for (const key in vmObj) {\n            const deps: string[] = [];\n            const noPropertyDeps = key === \"cls\"; // no property deps for cls function\n            const value = vmObj[key];\n            const valueStr = String(value);\n\n            // Find all vm.propertyName references\n            const regex = /vm\\.([\\w$]+)/g;\n            let match;\n            while ((match = regex.exec(valueStr)) !== null) {\n                const refProp = match[1];\n                if (!deps.includes(refProp)) {\n                    if (!refProp.startsWith(\"_\") || !noPropertyDeps) {\n                        deps.push(refProp);\n                    }\n                }\n            }\n\n            depMap[key] = deps;\n        }\n        return depMap;\n    };\n\n    // Calculate transitive closure of dependencies\n    getTransitiveDeps(usedFunctions: string[], depMap: Record<string, string[]>): Set<string> {\n        const result = new Set<string>(usedFunctions);\n        let changed = true;\n\n        while (changed) {\n            changed = false;\n            for (const fn of Array.from(result)) {\n                const deps = depMap[fn] || [];\n                for (const dep of deps) {\n                    if (!result.has(dep)) {\n                        result.add(dep);\n                        changed = true;\n                    }\n                }\n            }\n        }\n\n        return result;\n    }\n\n    // Filter vm object based on used functions\n    filterVM(vmObj: VMObject, usedFunctions: string[]): Partial<VMObject> {\n        const depMap = this.analyzeDependencies(vmObj);\n\n        if (this.debug) {\n            const allKeys = Object.keys(vmObj);\n            for (const fn of usedFunctions) {\n                if (!allKeys.includes(fn)) {\n                    console.warn(\n                        `Warning: Function '${fn}' does not exist in vm object`\n                    );\n                }\n            }\n        }\n\n        // Get transitive closure\n        const includeKeys = this.getTransitiveDeps(usedFunctions, depMap);\n\n        // Build filtered object (maintain original vm order)\n        const filtered: Partial<VMObject> = {};\n        for (const key in vmObj) {\n            if (includeKeys.has(key)) {\n                filtered[key] = vmObj[key];\n            }\n        }\n\n        if (this.debug >= 2) {\n            console.log(`Filtered VM object, included keys: [${Array.from(includeKeys).join(\", \")}]`);\n        }\n\n        return filtered;\n    }\n\n    private createParentPort(): NodeWorkerThreadsType[\"parentPort\"] {\n        const parentPort = new class {\n            // Dummy message handler\n            onMessageHandler: (data: MessageToWorker) => void = (data: MessageToWorker) => {\n                console.log(\"onMessageHandler called with:\", data);\n            }\n\n            // This method will be stringified into the standalone script\n            on(_event: string, messageHandler: (data: MessageToWorker) => void) {\n                this.onMessageHandler = messageHandler;\n                this.onMessageHandler({\n                    type: \"config\",\n                    isTerminal: true\n                });\n            }\n\n            // This method will be stringified into the standalone script\n            postMessage(data: MessageFromWorker) {\n                switch (data.type) {\n                    case 'flush':\n                        if (data.needCls) {\n                            console.clear();\n                        }\n                        console.log(data.message);\n                        break;\n                    case 'geolocation':\n                        this.onMessageHandler({\n                            type: \"continue\",\n                            result: \"\"\n                        });\n                        break;\n                    case 'input':\n                        console.log(data.prompt);\n                        this.onMessageHandler({\n                            type: \"input\",\n                            input: \"\"\n                        });\n                        break;\n                    case 'keyDef':\n                        break;\n                    case 'result':\n                        break;\n                    case 'speak':\n                        this.onMessageHandler({\n                            type: \"continue\",\n                            result: \"\"\n                        });\n                        break;\n                    default:\n                        console.error(\"postMessageHandler: Unknown message type:\", data);\n                        break;\n\n                }\n            }\n        }\n        return parentPort;\n    }\n\n    // Generate source code for filtered vm object\n    generateSource(vmObj: Partial<VMObject>): string {\n        const indent = \" \".repeat(8);\n        let output = \"\";\n\n        const keys = Object.keys(vmObj);\n        for (const [index, key] of keys.entries()) {\n            const value = vmObj[key];\n            const comma = index === keys.length - 1 ? \"\" : \",\";\n            const valueStr = typeof value === \"function\" ? String(value) : JSON.stringify(value);\n            output += `${indent}${key}: ${valueStr}${comma}\\n`;\n        }\n        return output;\n    }\n\n    private compiledCodeInFrame(compiledScript: string, workerFnString: string) {\n        const parentPort = this.createParentPort();\n        const parentFns: string[] = [];\n\n        parentFns.push(String(parentPort.on));\n        parentFns.push(String(parentPort.postMessage));\n\n        // replace indentation\n        const parentPortStr = parentFns.map((fnStr) => fnStr.replace(/\\n\\s{12}/g, \"\\n\")).join(\",\\n    \");\n\n        const inFrame = `(async (_o) => {\n    ${compiledScript}\n})(\n    ((parentPort) => {\n        const vm = {\n${workerFnString}\n        };\n        parentPort.on('message', (data) => vm.onMessageHandler(data));\n        globalThis.LocoBasicVm = vm;\n        return vm;\n    })({\n    ${parentPortStr}\n    })\n).then((result) => {\n    globalThis.LocoBasicVm.flush();\n});`;\n        return inFrame;\n    }\n\n    public createStandaloneScript(workerFn: NodeWorkerFnType, compiledScript: string, usedInstr: string[]) {\n        const mockParent = {\n            on: () => undefined,\n            postMessage: () => undefined,\n        };\n        const vmObj = workerFn.workerFn(mockParent);\n        const filteredVM = this.filterVM(vmObj as VMObject, [...usedInstr, \"flush\", \"onMessageHandler\"]);\n        const workerString = this.generateSource(filteredVM);\n\n        const inFrame = this.compiledCodeInFrame(compiledScript, workerString);\n        return inFrame;\n    }\n}\n","import type { CompileResultType, ConfigEntryType, ConfigType, DatabaseMapType, DatabaseType, ExampleMapType, ExampleType, ICore, NodeWorkerFnType } from \"./Interfaces\";\nimport { Parser } from \"./Parser\";\nimport { arithmetic } from \"./arithmetic\";\nimport { Semantics } from \"./Semantics\";\nimport { SemanticsHelper } from \"./SemanticsHelper\";\nimport { ScriptCreator } from \"./ScriptCreator\";\n\nexport class Core implements ICore {\n    private readonly defaultConfig: ConfigType;\n    private readonly config: ConfigType;\n    private readonly semantics = new Semantics();\n    private readonly databaseMap: DatabaseMapType = {};\n    private arithmeticParser?: Parser;\n    private scriptCreator?: ScriptCreator;\n\n    constructor(defaultConfig: ConfigType) {\n        this.defaultConfig = defaultConfig;\n        this.config = { ...defaultConfig };\n    }\n\n    public getDefaultConfigMap(): ConfigType {\n        return this.defaultConfig;\n    }\n\n    public getConfigMap(): ConfigType {\n        return this.config;\n    }\n\n    public initDatabaseMap(): DatabaseMapType {\n        const databaseDirs = this.config.databaseDirs.split(\",\");\n\n        for (const source of databaseDirs) {\n            const parts = source.split(\"/\");\n            const key = parts[parts.length - 1];\n\n            this.databaseMap[key] = {\n                key,\n                source,\n                exampleMap: undefined\n            };\n        }\n        return this.databaseMap;\n    }\n\n    public getDatabaseMap(): DatabaseMapType {\n        return this.databaseMap;\n    }\n\n    public getDatabase(): DatabaseType {\n        return this.databaseMap[this.config.database];\n    }\n\n    public getExampleMap(): ExampleMapType {\n        const exampleMap = this.databaseMap[this.config.database].exampleMap;\n        if (!exampleMap) {\n            console.error(\"getExampleMap: Undefined exampleMap for database\", this.config.database);\n            return {};\n        }\n        return exampleMap;\n    }\n\n    public setExampleMap(exampleMap: ExampleMapType): void {\n        this.databaseMap[this.config.database].exampleMap = exampleMap;\n    }\n\n    public getExample(name: string): ExampleType {\n        const exampleMap = this.getExampleMap();\n        return exampleMap[name];\n    }\n\n    private static expandNextStatements(src: string, semanticsHelper: SemanticsHelper): string {\n        return src.split('\\n').map((line, lineIdx) => {\n            // Find the first REM or ' that is not inside a string\n            let commentIdx = -1;\n            let inString = false;\n            for (let i = 0; i < line.length; i++) {\n                const c = line[i];\n                if (c === '\"') inString = !inString;\n                // Check for REM (case-insensitive) or '\n                if (!inString) {\n                    if (line.slice(i, i + 3).toUpperCase() === \"REM\" && (i === 0 || /\\s/.test(line[i - 1]))) {\n                        commentIdx = i;\n                        break;\n                    }\n                    if (c === \"'\") {\n                        commentIdx = i;\n                        break;\n                    }\n                }\n            }\n            let code = line;\n            let comment = \"\";\n            if (commentIdx !== -1) {\n                code = line.slice(0, commentIdx);\n                comment = line.slice(commentIdx);\n            }\n\n            // Replace NEXT i,j,k with NEXT i : NEXT j : NEXT k (not inside strings)\n            code = code.replace(/NEXT\\s+([a-zA-Z_][a-zA-Z0-9_]*(?:\\s*,\\s*[a-zA-Z_][a-zA-Z0-9_]*)+)/gi, (match, vars: string, offset: number) => {\n                const before = code.slice(0, offset);\n                const quoteCount = (before.match(/\"/g) || []).length;\n                if (quoteCount % 2 !== 0) return match; // inside string, skip\n\n                const col = offset + 1;\n                semanticsHelper.addCompileMessage(\n                    `WARNING: Not supported: Line ${lineIdx + 1}, col ${col}: Expanding NEXT statement: ${vars}\\n`\n                );\n                return vars.split(/\\s*,\\s*/).map(v => `NEXT ${v}`).join(' : ');\n            });\n\n            return code + comment;\n        }).join('\\n');\n    }\n\n    public compileScript(script: string): CompileResultType {\n        if (!this.arithmeticParser) {\n            const semanticsActionDict = this.semantics.getSemanticsActionDict();\n            if (this.config.grammar === \"strict\") {\n                const basicParser = new Parser(arithmetic.basicGrammar, semanticsActionDict);\n                this.arithmeticParser = new Parser(arithmetic.strictGrammar, semanticsActionDict, basicParser);\n            } else {\n                this.arithmeticParser = new Parser(arithmetic.basicGrammar, semanticsActionDict);\n            }\n        }\n        this.semantics.resetParser();\n        const semanticsHelper = this.semantics.getHelper();\n\n        const preprocessedScript = Core.expandNextStatements(script, semanticsHelper); // some preprocessing\n\n        const compiledScript = this.arithmeticParser.parseAndEval(preprocessedScript);\n        const messages = semanticsHelper.getCompileMessages();\n        return { compiledScript, messages };\n    }\n\n    public getSemantics(): Semantics {\n        return this.semantics;\n    }\n\n    private static fnHereDoc(fn: () => void) {\n        return String(fn).replace(/^[^/]+\\/\\*\\S*/, \"\").replace(/\\*\\/[^/]+$/, \"\");\n    }\n\n    public addIndex = (dir: string, input: Record<string, ExampleType[]> | (() => void)): void => { // need property function because we need bound \"this\"\n        if (typeof input === \"function\") {\n            input = {\n                [dir]: JSON.parse(Core.fnHereDoc(input).trim())\n            };\n        }\n\n        const exampleMap: ExampleMapType = {};\n        for (const value in input) {\n            const item = input[value] as ExampleType[];\n\n            for (let i = 0; i < item.length; i += 1) {\n                exampleMap[item[i].key] = item[i];\n            }\n        }\n        this.setExampleMap(exampleMap);\n    };\n\n    public addItem = (key: string, input: string | (() => void)): void => { // need property function because we need bound \"this\"\n        let inputString = typeof input !== \"string\" ? Core.fnHereDoc(input) : input;\n        inputString = inputString.replace(/^\\n/, \"\").replace(/\\n$/, \"\"); // remove preceding and trailing newlines\n\n        if (!key) { // maybe \"\"\n            console.warn(\"addItem: no key!\");\n            key = \"unknown\";\n        }\n\n        const example = this.getExample(key);\n        if (example) {\n            example.script = inputString;\n        }\n    };\n\n    public parseArgs(args: string[], config: Record<string, ConfigEntryType>): Record<string, ConfigEntryType> {\n        for (const arg of args) {\n            const [name, ...valueParts] = arg.split(\"=\");\n            const nameType = typeof config[name];\n\n            let value: ConfigEntryType = valueParts.join(\"=\");\n            if (value !== undefined) {\n                if (nameType === \"boolean\") {\n                    value = value === \"true\";\n                } else if (nameType === \"number\") {\n                    value = Number(value);\n                }\n                config[name] = value;\n            }\n        }\n        return config;\n    }\n\n    public createStandaloneScript(workerFn: NodeWorkerFnType, compiledScript: string, usedInstr: string[]): string {\n        if (!this.scriptCreator) {\n            this.scriptCreator = new ScriptCreator(this.config.debug);\n        }\n        const inFrame = this.scriptCreator.createStandaloneScript(workerFn, compiledScript, usedInstr);\n        return inFrame;\n    }\n}\n","import type { MessageFromWorker, MessageToWorker } from \"./Interfaces\";\nimport { basicErrors } from \"./Constants\";\n\nexport interface VmMessageHandlerCallbacks {\n    onFlush(message: string, needCls?: boolean, hasGraphics?: boolean): void;\n    onInput(prompt: string): Promise<string | null>;\n    onGeolocation(): Promise<string>;\n    onSpeak(message: string, pitch: number): Promise<void>;\n    onKeyDef(codes: number[]): void;\n}\n\nexport class VmMessageHandler {\n    private readonly callbacks: VmMessageHandlerCallbacks;\n    private readonly postMessage: (message: MessageToWorker) => void;\n    private code = \"\";\n    private finishedResolverFn?: ((msg: string) => void);\n\n    constructor(callbacks: VmMessageHandlerCallbacks, postMessage: (message: MessageToWorker) => void) {\n        this.callbacks = callbacks;\n        this.postMessage = postMessage;\n    }\n\n    public setCode(code: string): void {\n        this.code = code;\n    }\n\n    public setFinishedResolver(finishedResolverFn: (msg: string) => void) {\n        this.finishedResolverFn = finishedResolverFn;\n    }\n\n    public onResultResolved(message = \"\") {\n        if (this.finishedResolverFn) {\n            this.finishedResolverFn(message);\n            this.finishedResolverFn = undefined;\n        }\n    }\n\n    private static describeError(stringToEval: string, lineno: number, colno: number): string {\n        const lines = stringToEval.split(\"\\n\");\n        const line = lines[lineno - 1];\n        return `${line}\\n${\" \".repeat(colno - 1) + \"^\"}`;\n    }\n\n    public async handleMessage(data: MessageFromWorker): Promise<void> {\n        switch (data.type) {\n            case 'flush':\n                this.callbacks.onFlush(data.message, data.needCls, data.hasGraphics);\n                break;\n            case 'geolocation': {\n                try {\n                    const result = await this.callbacks.onGeolocation();\n                    this.postMessage({ type: 'continue', result });\n                } catch (msg) {\n                    console.error(msg);\n                    this.postMessage({ type: 'stop' });\n                    this.postMessage({ type: 'continue', result: '' });\n                }\n                break;\n            }\n            case 'input': {\n                setTimeout(async () => {\n                    const input = await this.callbacks.onInput(data.prompt);\n                    this.postMessage({ type: 'input', input });\n                }, 50); // 50ms delay to allow UI update\n                break;\n            }\n            case 'keyDef':\n                this.callbacks.onKeyDef(data.codes);\n                break;\n            case 'result': {\n                let res = data.result || \"\";\n\n                if (res.startsWith(\"{\")) {\n                    const json = JSON.parse(res);\n                    const { lineno, colno, message } = json;\n                    if (message === \"No Error: Parsing successful!\") {\n                        res = \"\";\n                    } else {\n                        res = `Syntax error thrown at: Line ${lineno - 2}, col: ${colno}\\n`\n                            + VmMessageHandler.describeError(this.code, lineno - 2, colno) + \"\\n\"\n                            + message;\n                    }\n                } else if (res === \"Error: INFO: Program stopped\") {\n                    res = \"\";\n                } else {\n                    const match1 = res.match(/^Error: (\\d+)$/);\n                    if (match1) {\n                        res += \": \" + basicErrors[Number(match1[1])];\n                    }\n                }\n                this.onResultResolved(res);\n                break;\n            }\n            case 'speak': {\n                try {\n                    await this.callbacks.onSpeak(data.message, data.pitch);\n                    this.postMessage({ type: 'continue', result: '' });\n                } catch (msg) {\n                    console.log(msg);\n                    this.postMessage({ type: 'stop' });\n                    this.postMessage({ type: 'continue', result: '' });\n                }\n                break;\n            }\n            default:\n                console.error(\"VmMessageHandler: Unknown message type:\", data);\n                break;\n        }\n    }\n}\n","import type { MessageFromWorker, MessageToWorker, NodeWorkerType } from \"./Interfaces\";\nimport { VmMessageHandler, type VmMessageHandlerCallbacks } from \"./VmMessageHandler\";\n\nexport class NodeVmMain {\n    private readonly messageHandler: VmMessageHandler;\n    private readonly createNodeWorker: () => NodeWorkerType;\n    private worker?: NodeWorkerType;\n\n    constructor(callbacks: VmMessageHandlerCallbacks, createNodeWorker: () => NodeWorkerType) {\n        this.messageHandler = new VmMessageHandler(callbacks, (message: MessageToWorker) => this.postMessage(message));\n        this.createNodeWorker = createNodeWorker;\n    }\n\n    private postMessage(message: MessageToWorker) {\n        this.worker?.postMessage(message);\n    }\n\n    private workerOnMessageHandler = (data: MessageFromWorker): void => {\n        this.messageHandler.handleMessage(data);\n    };\n\n    private getOrCreateWorker(): NodeWorkerType {\n        if (!this.worker) {\n            this.worker = this.createNodeWorker();\n            this.worker.on('message', this.workerOnMessageHandler);\n            this.postMessage({ type: 'config', isTerminal: true });\n        }\n        return this.worker;\n    }\n\n    public async run(code: string) {\n        if (!code.endsWith(\"\\n\")) {\n            code += \"\\n\"; // make sure the script ends with a new line (needed for line comment in last line)\n        }\n        this.messageHandler.setCode(code); // for error message\n        this.getOrCreateWorker();\n\n        const finishedPromise = new Promise<string>((resolve) => {\n            this.messageHandler.setFinishedResolver(resolve);\n        });\n\n        this.postMessage({ type: 'run', code });\n        return finishedPromise;\n    }\n\n    public frameTime(time: number) {\n        this.postMessage({ type: 'frameTime', time });\n    }\n\n    public stop() {\n        console.log(\"stop: Stop requested.\");\n        this.postMessage({ type: 'stop' });\n    }\n\n    public reset() {\n        if (this.worker) {\n            this.worker.terminate();\n            this.worker = undefined;\n        }\n        this.messageHandler.onResultResolved(\"terminated.\");\n    }\n\n    public putKeys(keys: string) {\n        this.postMessage({ type: 'putKeys', keys });\n    }\n}\n","import type { DatabaseType, ExampleType, ICore, MessageFromWorker, NodeWorkerFnType, NodeWorkerType } from \"./Interfaces\";\nimport { NodeVmMain } from \"./NodeVmMain\";\nimport { VmMessageHandlerCallbacks } from \"./VmMessageHandler\";\n\ninterface NodePath {\n    dirname: (dirname: string) => string;\n    resolve: (dirname: string, name: string) => string;\n}\n\ninterface NodeFs {\n    promises: {\n        readFile(name: string, encoding: string): Promise<string>\n    };\n}\n\ntype nodeIncomingMessage = { on: (type: string, fn: (s: string) => void) => void };\n\ninterface NodeHttps {\n    get: (url: string, fn: (res: nodeIncomingMessage) => void) => {\n        on: (type: string, fn: (err: Error) => void) => NodeHttps;\n    }\n}\n\ninterface NodeReadline {\n    emitKeypressEvents(stream: typeof process.stdin): void;\n}\n\ninterface NodeVm {\n    runInNewContext: (code: string) => string;\n}\n\ntype NodeWorkerConstructorType = new (filename: string) => NodeWorkerType;\ninterface NodeWorkerThreads {\n    parentPort: {\n        postMessage: (message: MessageFromWorker) => void\n    };\n    Worker: NodeWorkerConstructorType;\n}\n\ntype NodeKeyPressType = {\n    sequence: string;\n    name: string;\n    ctrl: boolean;\n    meta: boolean;\n    shift: boolean;\n}\n\ndeclare function require(name: string): NodeFs | NodeHttps | NodeModule | NodePath | NodeReadline | NodeVm | NodeWorkerThreads | NodeWorkerFnType;\n\nexport class NodeParts {\n    private nodeVmMain?: NodeVmMain;\n    private locoVmWorkerName = \"\";\n    private readonly loadedNodeModules: Record<string, ReturnType<typeof require>> = {};\n    private modulePath = \"\";\n    private fnOnKeyPressHandler?: (chunk: string, key: NodeKeyPressType) => void;\n\n    private getNodeModule<T>(module: string): T {\n        if (!this.loadedNodeModules[module]) {\n            this.loadedNodeModules[module] = require(module);\n        }\n        return this.loadedNodeModules[module] as T;\n    }\n\n    private getNodePath() {\n        return this.getNodeModule<NodePath>(\"path\");\n    }\n\n    private nodeGetAbsolutePath(name: string) {\n        const path = this.getNodePath();\n\n        // https://stackoverflow.com/questions/8817423/why-is-dirname-not-defined-in-node-repl\n        const dirname = __dirname || path.dirname(__filename);\n        return path.resolve(dirname, name); // absolute path\n    }\n\n    private async nodeReadFile(name: string): Promise<string> {\n        const nodeFs = this.getNodeModule<NodeFs>(\"fs\");\n\n        if (!module) {\n            const module = this.getNodeModule<NodeModule>(\"module\");\n            this.modulePath = module.path || \"\";\n\n            if (!this.modulePath) {\n                console.warn(\"nodeReadFile: Cannot determine module path\");\n            }\n        }\n\n        try {\n            return await nodeFs.promises.readFile(name, \"utf8\");\n        } catch (error) {\n            console.error(`Error reading file ${name}:`, String(error));\n            throw error;\n        }\n    }\n\n    private async nodeReadUrl(url: string): Promise<string> {\n        const nodeHttps = this.getNodeModule<NodeHttps>(\"https\");\n\n        return new Promise((resolve, reject) => {\n            nodeHttps.get(url, (resp) => {\n                let data = \"\";\n\n                resp.on(\"data\", (chunk: string) => {\n                    data += chunk;\n                });\n\n                resp.on(\"end\", () => {\n                    resolve(data);\n                });\n            }).on(\"error\", (err: Error) => {\n                console.error(\"Error: \" + err.message);\n                reject(err);\n            });\n        });\n    }\n\n    private createNodeWorker(): NodeWorkerType {\n        const nodeWorkerThreads = this.getNodeModule<NodeWorkerThreads>(\"worker_threads\");\n        const path = this.getNodePath();\n\n        return new nodeWorkerThreads.Worker(path.resolve(__dirname, this.locoVmWorkerName));\n    }\n\n    private getNodeWorkerFn(workerFile: string): NodeWorkerFnType {\n        const path = this.getNodePath();\n        const workerFnPath = path.resolve(__dirname, workerFile);\n        return this.getNodeModule<NodeWorkerFnType>(workerFnPath);\n    }\n\n    private static isUrl(s: string) {\n        return s.startsWith(\"http\"); // http or https\n    }\n\n    private loadScript(fileOrUrl: string): Promise<string> {\n        return NodeParts.isUrl(fileOrUrl) ? this.nodeReadUrl(fileOrUrl) : this.nodeReadFile(fileOrUrl);\n    };\n\n    private keepRunning(fn: () => void, timeout: number): Promise<void> {\n        const timerId = setTimeout(() => { }, timeout);\n        return (async () => {\n            fn();\n            clearTimeout(timerId);\n        })();\n    }\n\n    /* TODO\n    private nodeCheckSyntax(script: string): string {\n        if (!this.nodeVm) {\n            this.nodeVm = require(\"vm\") as NodeVm;\n        }\n\n        const describeError = (stack: string): string => {\n            const match = stack.match(/^\\D+(\\d+)\\n(.+\\n( *)\\^+)\\n\\n(SyntaxError.+)/);\n            if (!match) {\n                return \"\"; // parse successful?\n            }\n            const [, linenoPlusOne, caretString, colSpaces, message] = match;\n            const lineno = Number(linenoPlusOne) - 1;\n            const colno = colSpaces.length + 1;\n            return `Syntax error thrown at: Line ${lineno}, col: ${colno}\\n${caretString}\\n${message}`;\n        };\n        let output = \"\";\n\n        try {\n            const scriptInFrame = this.putScriptInFrame(script);\n            this.nodeVm.runInNewContext(`throw new Error();\\n${scriptInFrame}`);\n        } catch (err) { // Error-like object\n            const stack = (err as Error).stack;\n            if (stack) {\n                output = describeError(stack);\n            }\n        }\n        return output;\n    }\n    */\n\n    private fnOnKeypress(_chunk: string, key: NodeKeyPressType) {\n        if (key) {\n            const keySequenceCode = key.sequence.charCodeAt(0);\n            if (key.name === 'c' && key.ctrl === true) {\n                // key: '<char>' { sequence: '\\x03', name: 'c', ctrl: true, meta: false, shift: false }\n                process.exit();\n            } else if (key.name === \"escape\") {\n                this.getNodeVmMain().stop(); // request stop\n            } else if (keySequenceCode === 0x0d || (keySequenceCode >= 32 && keySequenceCode <= 128)) {\n                //this.putKeyInBuffer(key.sequence);\n                this.getNodeVmMain().putKeys(key.sequence);\n            }\n        }\n    }\n\n    private initKeyboardInput() {\n        const nodeReadline = this.getNodeModule<NodeReadline>(\"readline\");\n\n        if (process.stdin.isTTY) {\n            nodeReadline.emitKeypressEvents(process.stdin);\n            process.stdin.setRawMode(true);\n\n            this.fnOnKeyPressHandler = this.fnOnKeypress.bind(this);\n            process.stdin.on('keypress', this.fnOnKeyPressHandler);\n        } else {\n            console.warn(\"initKeyboardInput: not a TTY\", process.stdin);\n        }\n    }\n\n    private createMessageHandlerCallbacks() {\n        const callbacks: VmMessageHandlerCallbacks = {\n            onFlush: (message: string, needCls?: boolean) => {\n                if (needCls) {\n                    console.clear();\n                }\n                console.log(message);\n            },\n            onInput: (prompt: string) => {\n                console.log(prompt);\n                const input = \"\"; //TODO\n                return Promise.resolve(input);\n            },\n            onGeolocation: async () => {\n                // TODO\n                return '';\n            },\n            onSpeak: async () => {\n                // TODO\n            },\n            onKeyDef: () => {\n                //TODO\n            }\n        };\n        return callbacks;\n    }\n\n    private getNodeVmMain() {\n        if (!this.nodeVmMain) {\n            const messageHandlerCallbacks = this.createMessageHandlerCallbacks();\n            this.nodeVmMain = new NodeVmMain(messageHandlerCallbacks, () => this.createNodeWorker());\n        }\n        return this.nodeVmMain;\n    }\n\n    private async startRun(core: ICore, compiledScript: string, usedInstrMap: Record<string, number>) {\n        if (core.getConfigMap().debug) {\n            console.log(\"DEBUG: running compiled script...\");\n        }\n\n        if (usedInstrMap[\"inkey$\"]) { // do we need inkey$\n            this.initKeyboardInput();\n        }\n\n        const nodeVmMain = this.getNodeVmMain();\n        const output = await nodeVmMain.run(compiledScript);\n        console.log(output.replace(/\\n$/, \"\"));\n        nodeVmMain.reset(); // terminate worker\n        if (this.fnOnKeyPressHandler) {\n            process.stdin.off('keypress', this.fnOnKeyPressHandler);\n            process.stdin.setRawMode(false);\n            process.exit(0); // hmm, not so nice\n        }\n    }\n\n    private start(core: ICore, input: string): Promise<void> | undefined {\n        const actionConfig = core.getConfigMap().action;\n        //core.setOnCheckSyntax((s: string) => Promise.resolve(this.nodeCheckSyntax(s)));\n        const needCompile = actionConfig.includes(\"compile\");\n\n        const { compiledScript, messages } = needCompile ? core.compileScript(input) : {\n            compiledScript: input,\n            messages: []\n        };\n\n        if (compiledScript.startsWith(\"ERROR:\")) {\n            console.error(compiledScript);\n            return;\n        }\n\n        if (messages) {\n            console.log(messages.join(\"\\n\"));\n        }\n\n        const usedInstrMap = core.getSemantics().getHelper().getInstrMap();\n        if (actionConfig.includes(\"run\")) {\n            return this.keepRunning(async () => {\n                return this.startRun(core, compiledScript, usedInstrMap);\n            }, 5000);\n        } else { // compile only: output standalone script\n            const workerFn = this.getNodeWorkerFn(this.locoVmWorkerName);\n            const inFrame = core.createStandaloneScript(workerFn, compiledScript, Object.keys(usedInstrMap));\n            console.log(inFrame);\n        }\n    }\n\n    private async getExampleMap(databaseItem: DatabaseType, core: ICore) {\n        if (databaseItem.exampleMap) {\n            return databaseItem.exampleMap;\n        }\n        databaseItem.exampleMap = {};\n        const scriptName = databaseItem.source + \"/0index.js\";\n        try {\n            const jsFile = await this.loadScript(scriptName);\n            const fnScript = new Function(\"cpcBasic\", jsFile);\n            fnScript({\n                addIndex: core.addIndex\n            });\n        } catch (error) {\n            console.error(\"Load Example Map \", scriptName, error);\n        }\n        return databaseItem.exampleMap;\n    }\n\n    private async getExampleScript(example: ExampleType, core: ICore) {\n        if (example.script !== undefined) {\n            return example.script;\n        }\n        const database = core.getDatabase();\n        const scriptName = database.source + \"/\" + example.key + \".js\";\n        try {\n            const jsFile = await this.loadScript(scriptName);\n            const fnScript = new Function(\"cpcBasic\", jsFile);\n            fnScript({\n                addItem: (key: string, input: string | (() => void)) => {\n                    if (!key) { // maybe \"\"\n                        key = example.key;\n                    }\n                    core.addItem(key, input);\n                }\n            });\n        } catch (error) {\n            console.error(\"Load Example\", scriptName, error);\n        }\n        return example.script || \"\";\n\n    }\n\n    public async nodeMain(core: ICore, locoVmWorkerName: string): Promise<void> {\n        const config = core.getConfigMap();\n        core.parseArgs(global.process.argv.slice(2), config);\n        this.locoVmWorkerName = locoVmWorkerName;\n\n        if (config.input) {\n            return this.keepRunning(async () => {\n                this.start(core, config.input);\n            }, 5000);\n\n        } else if (config.fileName) {\n            return this.keepRunning(async () => {\n                const inputFromFile = await this.nodeReadFile(config.fileName);\n                this.start(core, inputFromFile);\n            }, 5000);\n\n        } else if (config.example) {\n            const databaseMap = core.initDatabaseMap();\n            const database = config.database;\n            const databaseItem = databaseMap[database];\n\n            if (!databaseItem) {\n                console.error(`Error: Database ${database} not found in ${config.databaseDirs}`);\n                return;\n            }\n\n            return this.keepRunning(async () => {\n                if (!NodeParts.isUrl(databaseItem.source)) {\n                    databaseItem.source = this.nodeGetAbsolutePath(databaseItem.source);\n                }\n\n                await this.getExampleMap(databaseItem, core);\n                const exampleName = config.example;\n                const example = core.getExample(exampleName);\n                if (example) {\n                    const script = await this.getExampleScript(example, core);\n                    this.start(core, script);\n                } else {\n                    console.error(`Error: Example not found: ${exampleName}`);\n                }\n            }, 5000);\n        } else {\n            console.log(NodeParts.getHelpString());\n        }\n    }\n\n    private static getHelpString(): string {\n        return `\nUsage:\nnode dist/locobasic.js [<option=<value(s)>] [<option=<value(s)>]\n\n- Options:\naction=compile,run\ndatabaseDirs=examples,...\ndatabase=examples\ndebounceCompile=800\ndebounceExecute=400\ndebug=0\nexample=euler\nfileName=<file>\ngrammar=<name>\ninput=<statements>\n\n- Examples for compile and run:\nnode dist/locobasic.js input='PRINT \"Hello!\"'\nnpx ts-node dist/locobasic.js input='PRINT \"Hello!\"'\nnode dist/locobasic.js input='?3 + 5 * (2 - 8)' example=''\nnode dist/locobasic.js example=euler\nnode dist/locobasic.js example=abelian\nnode dist/locobasic.js example=archidr0 > test1.svg\nnode dist/locobasic.js example=binary database=rosetta databaseDirs=examples,https://benchmarko.github.io/CPCBasicApps/apps,https://benchmarko.github.io/CPCBasicApps/rosetta\nnode dist/locobasic.js grammar='strict' input='a$=\"Bob\":PRINT \"Hello \";a$;\"!\"'\nnode dist/locobasic.js fileName=dist/examples/example.bas  (if you have an example.bas file)\n\n- Example for compile only:\nnode dist/locobasic.js action='compile' input='PRINT \"Hello!\"' > hello1.js\n[Windows: Use node.exe when redirecting into a file; or npx ts-node ...]\nnode hello1.js\n[When using async functions like FRAME or INPUT, redirect to hello1.mjs]\n- Combined:\nnode dist/locobasic.js example=testpage action=compile | node\n`;\n    }\n}\n","import type { ExampleType, ICore, IUI } from \"./Interfaces\";\nimport { Core } from \"./Core\";\nimport { NodeParts } from \"./NodeParts\";\n\ninterface WindowProperties {\n    cpcBasic: {\n        addIndex: (dir: string, input: Record<string, ExampleType[]> | (() => void)) => void,\n        addItem: (key: string, input: string | (() => void)) => void\n    };\n    locobasicUI: {\n        UI: {\n            new(): IUI\n        }\n    };\n    onload: (event: Event) => void;\n}\n\ndeclare const window: WindowProperties | undefined;\n\nconst core: ICore = new Core({\n    action: \"compile,run\",\n    autoCompile: true,\n    autoExecute: true,\n    databaseDirs: \"examples\", // example base directories (comma separated)\n    database: \"examples\", // examples, apps, saved\n    debounceCompile: 800,\n    debounceExecute: 400,\n    debug: 0,\n    example: \"locobas\",\n    fileName: \"\",\n    grammar: \"basic\", // basic or strict\n    input: \"\",\n    showBasic: true,\n    showCompiled: false,\n    showOutput: true\n});\n\nconst locoVmWorkerName = \"locoVmWorker.js\";\n\nif (typeof window !== \"undefined\") {\n    window.onload = () => {\n        const UI = window.locobasicUI.UI; // we expect that it is already loaded in the HTML page\n        const ui = new UI();\n        window.cpcBasic = {\n            addIndex: core.addIndex,\n            addItem: (key: string, input: string | (() => void)) => {\n                if (!key) { // maybe \"\"\n                    key = ui.getCurrentDataKey();\n                }\n                core.addItem(key, input);\n            }\n        };\n        ui.onWindowLoadContinue(core, locoVmWorkerName);\n    };\n} else { // node.js\n    new NodeParts().nodeMain(core, locoVmWorkerName);\n}\n"],"names":["grammar"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2vCD,EAAA,CAAA;IAED,IAAA,aAAa,EACX,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}